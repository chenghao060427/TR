/*! For license information please see vendors~sld.js.LICENSE.txt */
(this["bytedance_secsdk_captcha_jsonp_2.30.1_2.0.0.6"]=this["bytedance_secsdk_captcha_jsonp_2.30.1_2.0.0.6"]||[]).push([[2],{326:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return(r=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n}).apply(this,arguments)};function o(n,t){var e="function"===typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,o,i=e.call(n),u=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)u.push(r.value)}catch(C){o={error:C}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(o)throw o.error}}return u}function i(n,t,e){if(e||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return n.concat(r||Array.prototype.slice.call(t))}var u=function(n){return JSON.stringify({ev_type:"batch",list:n})};var a=["init","start","config","beforeDestroy","provide","beforeReport","report","beforeBuild","build","beforeSend","send","beforeConfig"],c=function(){return{}};function f(n){return n}function s(n){return"object"===typeof n&&null!==n}var l=Object.prototype;function v(n){if(s(n)){if("function"===typeof Object.getPrototypeOf){var t=Object.getPrototypeOf(n);return t===l||null===t}return"[object Object]"===l.toString.call(n)}return!1}function d(n){return"[object Array]"===l.toString.call(n)}function p(n){return"function"===typeof n}function h(n){return"number"===typeof n}function g(n){return"string"===typeof n}function m(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function y(n,t){var e=r({},n);for(var o in t)m(t,o)&&void 0!==t[o]&&(s(t[o])&&v(t[o])?e[o]=y(s(n[o])?n[o]:{},t[o]):d(t[o])&&d(n[o])?e[o]=_(n[o],t[o]):e[o]=t[o]);return e}function _(n,t){var e=d(n)?n:[],r=d(t)?t:[];return Array.prototype.concat.call(e,r).map((function(n){return n instanceof RegExp?n:s(n)&&v(n)?y({},n):d(n)?_([],n):n}))}function b(n,t){if(!d(n))return!1;if(0===n.length)return!1;for(var e=0;e<n.length;){if(n[e]===t)return!0;e++}return!1}var E=function(n,t){if(!d(n))return n;var e=n.indexOf(t);if(e>=0){var r=n.slice();return r.splice(e,1),r}return n},w=function(n,t,e){for(var r,i=o(t.split(".")),u=i[0],a=i.slice(1);n&&a.length>0;)n=n[u],u=(r=o(a))[0],a=r.slice(1);if(n)return e(n,u)},x=function(n,t,e){return w(n,t,(function(n,t){if(n&&t in n&&p(n[t]))try{return n[t].apply(n,e)}catch(r){return}}))};function S(n){return d(n)&&n.length?function(n){for(var t=[],e=n.length,r=0;r<e;r++){var o=n[r];g(o)?t.push(o.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")):o&&o.source&&t.push(o.source)}return new RegExp(t.join("|"),"i")}(n):null}function R(n){try{return g(n)?n:JSON.stringify(n)}catch(t){return"[FAILED_TO_STRINGIFY]:"+String(t)}}var O=function(n,t,e,r){return void 0===r&&(r=!0),function(){for(var u=[],a=0;a<arguments.length;a++)u[a]=arguments[a];if(!n)return c;var f=n[t],s=e.apply(void 0,i([f],o(u),!1)),l=s;return p(l)&&r&&(l=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];try{return s.apply(this,n)}catch(be){return p(f)&&f.apply(this,n)}}),n[t]=l,function(e){e||(l===n[t]?n[t]=f:s=f)}}},T=function(n,t,e){return function(){for(var r=[],u=0;u<arguments.length;u++)r[u]=arguments[u];if(!n)return c;var a=n[t],f=e.apply(void 0,i([a],o(r),!1)),s=f;return p(s)&&(s=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return f.apply(this,n)}),n[t]=s,function(){s===n[t]?n[t]=a:f=a}}},j="".padStart?function(n,t){return void 0===t&&(t=8),n.padStart(t," ")}:function(n){return n},I=0,C=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];console.error.apply(console,i(["[SDK]",Date.now(),j(""+I++)],o(n),!1))},A=0,D=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];console.warn.apply(console,i(["[SDK]",Date.now(),j(""+A++)],o(n),!1))},L=function(n){return Math.random()<Number(n)},P=function(n,t){return n<Number(t)},k=function(n){return function(t){for(var e=t,r=0;r<n.length&&e;r++)try{e=n[r](e)}catch(o){C(o)}return e}};function N(){var n=function(){for(var n=new Array(16),t=0,e=0;e<16;e++)0===(3&e)&&(t=4294967296*Math.random()),n[e]=t>>>((3&e)<<3)&255;return n}();return n[6]=15&n[6]|64,n[8]=63&n[8]|128,function(n){for(var t=[],e=0;e<256;++e)t[e]=(e+256).toString(16).substr(1);var r=0,o=t;return[o[n[r++]],o[n[r++]],o[n[r++]],o[n[r++]],"-",o[n[r++]],o[n[r++]],"-",o[n[r++]],o[n[r++]],"-",o[n[r++]],o[n[r++]],"-",o[n[r++]],o[n[r++]],o[n[r++]],o[n[r++]],o[n[r++]],o[n[r++]]].join("")}(n)}var M=function(n,t){var e=[];try{e=t.reduce((function(t,e){try{var r=e(n);"function"===typeof r&&t.push(r)}catch(be){}return t}),[])}catch(be){}return function(n){return M(n,e)}},q=function(n){void 0===n&&(n=3e5);var t,e=[],r=[],o=!1,i=function(n,t,e){var r=0;return-1===e?c:function(){if(n())return r&&clearTimeout(r),void(r=0);0===r&&(r=setTimeout(t,e))}}((function(){return!!e.length}),(function(){o=!0,t&&t[0](),r.forEach((function(n){return n()})),r.length=0,t=void 0}),n),u=function(n){e=E(e,n),!o&&i()};return{next:function(n){return M(n,e)},complete:function(n){r.push(n)},attach:function(n,e){t=[n,e]},subscribe:function(n){if(o)throw new Error("Observer is closed");return e.push(n),t&&t[1]&&t[1](n),i(),function(){return u(n)}},unsubscribe:u}},B=function(n,t,e){var r=q(e);try{n(r.next,r.attach),t&&r.complete(t)}catch(be){}return[r.subscribe,r.unsubscribe]},H=function(n,t){var e=o(n,1)[0];return function(n,r){var o=e((function(e){var r;return(r=t,function(n){for(var t=!0,e=0;e<r.length&&t;e++)try{t=r[e](n)}catch(o){C(o)}return t})(e)?n(e):c}));r((function(){o()}))}};var U=function(n,t,e,r){return n.destroyAgent.set(t,e,r)};function F(n){var t,e,r=n.builder,u=n.createSender,c=n.createDefaultConfig,f=n.createConfigManager,l=n.userConfigNormalizer,v=n.initConfigNormalizer,d=n.validateInitConfig,p={};a.forEach((function(n){return p[n]=[]}));var h=!1,g=!1,m=!1,y=[],_=[],w=function(){var n=!1,t={},e=function(n){n.length&&n.forEach((function(n){try{n()}catch(be){}})),n.length=0},r=function(n){t[n]&&t[n].forEach((function(n){e(n[1])})),t[n]=void 0};return{set:function(r,o,i){t[r]?t[r].push([o,i]):t[r]=[[o,i]],n&&e(i)},has:function(n){return!!t[n]},remove:r,removeByEvType:function(n){Object.keys(t).forEach((function(r){t[r]&&t[r].forEach((function(t){t[0]===n&&e(t[1])}))}))},clear:function(){n=!0,Object.keys(t).forEach((function(n){r(n)}))}}}(),x={getBuilder:function(){return r},getSender:function(){return t},getPreStartQueue:function(){return y},init:function(n){if(h)D("already inited");else{if(!(n&&s(n)&&d(n)))throw new Error("invalid InitConfig, init failed");var r=c(n);if(!r)throw new Error("defaultConfig missing");var o=v(n);if((e=f(r)).setConfig(o),e.onChange((function(){S("config")})),!(t=u(e.getConfig())))throw new Error("sender missing");h=!0,S("init",!0)}},set:function(n){h&&n&&s(n)&&(S("beforeConfig",!1,n),null===e||void 0===e||e.setConfig(n))},config:function(n){if(h)return n&&s(n)&&(S("beforeConfig",!1,n),null===e||void 0===e||e.setConfig(l(n))),null===e||void 0===e?void 0:e.getConfig()},provide:function(n,t){b(_,n)?D("cannot provide "+n+", reserved"):(x[n]=t,S("provide",!1,n))},start:function(){var n=this;h&&(g||null===e||void 0===e||e.onReady((function(){g=!0,S("start",!0),y.forEach((function(t){return n.build(t)})),y.length=0})))},report:function(n){if(n){var t=k(p.beforeReport)(n);if(t){var e=k(p.report)(t);e&&(g?this.build(e):y.push(e))}}},build:function(n){if(g){var t=k(p.beforeBuild)(n);if(t){var e=r.build(t);if(e){var o=k(p.build)(e);o&&this.send(o)}}}},send:function(n){if(g){var e=k(p.beforeSend)(n);e&&(t.send(e),S("send",!1,e))}},destroy:function(){w.clear(),m=!0,y.length=0,S("beforeDestroy",!0)},on:function(n,t){if("init"===n&&h||"start"===n&&g||"beforeDestroy"===n&&m)try{t()}catch(e){}else p[n]&&p[n].push(t)},off:function(n,t){p[n]&&(p[n]=E(p[n],t))},destroyAgent:w};return _=Object.keys(x),x;function S(n,t){void 0===t&&(t=!1);for(var e=[],r=2;r<arguments.length;r++)e[r-2]=arguments[r];p[n].forEach((function(n){try{n.apply(void 0,i([],o(e),!1))}catch(t){}})),t&&(p[n].length=0)}}var G=function(n){var t=function(){var n={},t={},e={set:function(r,o){return n[r]=o,t[r]=R(o),e},merge:function(o){return n=r(r({},n),o),Object.keys(o).forEach((function(n){t[n]=R(o[n])})),e},delete:function(r){return delete n[r],delete t[r],e},clear:function(){return n={},t={},e},get:function(n){return t[n]},toString:function(){return r({},t)}};return e}();n.provide("context",t),n.on("report",(function(n){return n.extra||(n.extra={}),n.extra.context=t.toString(),n}))};function z(n,t){return n.initSubject(t)}function X(n,t,e){var r=o(t,2),i=r[0],u=r[1],a=n.privateSubject||{};return a[i]||(a[i]=B(u,(function(){a[i]=void 0}),e)),a[i]}var K=function(){return Date.now()};function W(){if("object"===typeof window&&s(window))return window}function V(){if("object"===typeof document&&s(document))return document}function J(){if(W()&&s(window.performance))return window.performance}function Y(){if("function"===typeof XMLHttpRequest&&p(XMLHttpRequest))return XMLHttpRequest}function $(){if(W()&&p(window.MutationObserver))return window.MutationObserver}function Q(){if(W()&&p(window.PerformanceObserver))return window.PerformanceObserver}function Z(){var n=function(){if(W()&&"navigator"in window)return window.navigator}();if(n)return n.connection||n.mozConnection||n.webkitConnection}function nn(){if(!document)return null;if(document.currentScript)return document.currentScript;try{throw new Error}catch(f){var n=0,t=/at\s+(.*)\s+\((.*):(\d*):(\d*)\)/i.exec(f.stack),e=t&&t[2]||!1,r=t&&t[3]||0,o=document.location.href.replace(document.location.hash,""),i="",u=document.getElementsByTagName("script");if(e===o){var a=document.documentElement.outerHTML,c=new RegExp("(?:[^\\n]+?\\n){0,"+(r-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i");i=a.replace(c,"$1").trim()}for(;n<u.length;n++){if("interactive"===u[n].readyState)return u[n];if(u[n].src===e)return u[n];if(e===o&&u[n].innerHTML&&u[n].innerHTML.trim()===i)return u[n]}return null}}function tn(n){var t=V();if(!t||!n)return"";var e=t.createElement("a");return e.href=n,e.href}function en(n){var t=V();if(!t||!n)return{url:n,protocol:"",domain:"",query:"",path:"",hash:""};var e=t.createElement("a");e.href=n;var r=e.pathname||"/";return"/"!==r[0]&&(r="/"+r),{url:e.href,protocol:e.protocol.slice(0,-1),domain:e.hostname,query:e.search.substring(1),path:r,hash:e.hash}}function rn(){var n=W()&&W()&&window.location;return null===n||void 0===n?void 0:n.href}var on=function(n){return{pid:n.pid,view_id:n.viewId,url:rn()}},un=function(n){var t=n.config(),e=on(t);return e.context=n.context?n.context.toString():{},e},an=function(n,t){void 0===t&&(t=!1);var e=un(n);return t&&(e.timestamp=K()),function(t){n.report(r(r({},t),{overrides:e}))}},cn=function(n){return function(t,e){var o=un(n),i=function(e){var i;e.viewId&&e.viewId!==(null===(i=n.config())||void 0===i?void 0:i.viewId)&&(t(o),o=r(r({},un(n)),on(e)))};n.on("beforeConfig",i),e((function(){n.off("beforeConfig",i)}))}},fn=function(n){return function(t,e){var r=un(n);e(c,(function(n){r&&n(r)}))}},sn=function(n){if(n)return n.__SLARDAR_REGISTRY__||(n.__SLARDAR_REGISTRY__={Slardar:{plugins:[],errors:[],subject:{}}}),n.__SLARDAR_REGISTRY__.Slardar},ln=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=sn(W());e&&(e.errors||(e.errors=[]),e.errors.push(n))},vn=function(n,t){var e=n&&new n(t);return[function(n,t){e&&n&&e.observe(n,t)},function(){return e&&e.disconnect()}]},dn=function(n){var t=n&&n.timing||void 0;return[t,function(){return n&&n.now?n.now():(Date.now?Date.now():+new Date)-(t&&t.navigationStart||0)},function(t){var e=(n||{}).getEntriesByType;return p(e)&&e.call(n,t)||[]},function(){var t=(n||{}).clearResourceTimings;p(t)&&t.call(n)},function(t){var e=(n||{}).getEntriesByName;return p(e)&&e.call(n,t)||[]}]},pn=function(n){var t={url:rn(),timestamp:K()},e=n.config();return(null===e||void 0===e?void 0:e.pid)&&(t.pid=e.pid),(null===n||void 0===n?void 0:n.context)&&(t.context=n.context.toString()),t},hn=function(n,t){return function(e){var r=function(n){return n.overrides=t,n};n.on("report",r),e(),n.off("report",r)}};var gn=function(n){var t=!1;return[function(e){t||(t=!0,n&&n(e))}]},mn=function(n,t){var e,r=V();if(r){var o=r.createElement("script");o.src=n,o.crossOrigin="anonymous",o.onload=t,null===(e=r.head)||void 0===e||e.appendChild(o)}},yn=function(n,t){return s(n)?r(r({},t),n):!!n&&t},_n=function(){return!!btoa&&!!atob};var bn=function(n){try{var t=localStorage.getItem(n),e=t;t&&"string"===typeof t&&(e=JSON.parse((u=t,_n()?decodeURI(atob(u)):u)));var r=e,o=r.expires,i=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(n);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(e[r[o]]=n[r[o]])}return e}(r,["expires"]);return o>=K()?i:void 0}catch(a){return}var u},En=function(n,t,e){var o;if(!(e<=0))try{localStorage.setItem(n,(o=JSON.stringify(r(r({},t),{expires:K()+e})),_n()?btoa(encodeURI(o)):o))}catch(i){}},wn=function(n){return!1===n?0:!0!==n&&void 0!==n&&h(n)?n:7776e6},xn=function(n){return function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return t=o(e,2),this._method=t[0],this._url=t[1],n.apply(this,e)}},Sn=function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._reqHeaders=this._reqHeaders||{};var r=o(t,2),i=r[0],u=r[1];return this._reqHeaders[i]=u,n&&n.apply(this,t)}},Rn=function(n,t){return T(n,"onreadystatechange",(function(e){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return 4===this.readyState&&t(n),e&&e.apply(this,r)}}))},On=function(n,t){var e=function(){var n=new RegExp("\\/monitor_web\\/collect|\\/monitor_browser\\/collect\\/batch","i");return function(t){return n.test(t)}}();return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(this._start=K(),this._data=null===r||void 0===r?void 0:r[0],!e(this._url)){var i=t([this._method,this._url,this._start,this]);Rn(this,i)()}return n.apply(this,r)}},Tn=function(n){return function(t,e){if(n){var r=[];r.push(T(n,"open",xn)()),r.push(T(n,"setRequestHeader",Sn)()),r.push(T(n,"send",On)(t)),e((function(){r.forEach((function(n){return n()}))}))}}},jn=function(n,t){return function(e,r){void 0===r&&(r={});var o=t([e,r]),i=n(e,r);return i.then((function(n){o(n)}),(function(){o(void 0)})),i}},In=["fetch_0",function(n,t){var e=W();if(e&&fetch){var r=[];r.push(T(e,"fetch",jn)(n)),t((function(){r.forEach((function(n){return n()}))}))}}],Cn=["resource"],An=["longtask"],Dn=function(n,t,e){var r=o(function(n,t,e){var o=n&&new n((function(n,r){n.getEntries?n.getEntries().forEach((function(n,e,o){return t(n,e,o,r)})):e&&e()}));return[function(t){if(!n||!o)return e&&e();try{o.observe({entryTypes:t})}catch(r){return e&&e()}},function(t){if(!n||!o)return e&&e();try{o.observe({type:t,buffered:!0})}catch(r){return e&&e()}o.observe({type:t,buffered:!1})},function(){return o&&o.disconnect()}]}(n,t),3),i=r[0],u=r[2];return i(e),u},Ln=["longtask_0",function(n,t){var e=Q();e&&t(Dn(e,n,An))}],Pn=["resource_0",function(n,t){var e=Q();e&&t(Dn(e,n,Cn))}],kn={sampleRate:1,origins:[]},Nn=function(){var n=window&&(window.crypto||window.msCrypto);if(void 0!==n&&n.getRandomValues){var t=new Uint16Array(8);n.getRandomValues(t);var e=function(n){for(var t=n.toString(16);t.length<4;)t="0"+t;return t};return e(t[0])+e(t[1])+e(t[2])+e(t[3])+e(t[4])+e(t[5])+e(t[6])+e(t[7])}return"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".replace(/[x]/g,(function(){return(16*Math.random()|0).toString(16)}))},Mn=function(n){var t=yn(n,kn);if(t&&L(t.sampleRate))return function(n,e){var r=t.origins;r.length&&Boolean(n.match(new RegExp(r.join("|"))))&&e("traceparent","03-"+Nn()+"-"+Nn().substring(16)+"-01")}},qn=new RegExp("(cookie|auth|jwt|token|key|ticket|secret|credential|session|password)","i"),Bn=new RegExp("(bearer|session)","i"),Hn=function(n,t){var e=S(n||[]);return!!e&&e.test(t)},Un=function(n,t){return!n||!t||(qn.test(n)||Bn.test(t))},Fn=function(n,t){try{if(t){var e=n.request.url;n.request.url=t(e),n.extra=r(r({},n.extra),{original_url:e})}}catch(o){}},Gn=function(n,t,e){var r=o(t,2),i=r[0],u=r[1],a=e.setTraceHeader,f=e.ignoreUrls,s=e.setContextAtReq,l=e.extractUrl;n.push(i[0]((function(n){var t=o(n,4);t[0];var r=t[1];t[2];var i=t[3];if(!r||Hn(f,r))return c;a&&a(r,(function(n,t){return i.setRequestHeader(n,t)}));var v=s(),d=tn(r),p=void 0,h=u()[0]((function(n){d===n.name&&!p&&(p=n)}));return function(n){var t=zn(n,e);setTimeout((function(){p&&(t.response.timing=p),Fn(t,l),v&&v({ev_type:"http",payload:t}),h()}),100)}})))};var zn=function(n,t){var e,r=n._method,i=n._reqHeaders,u=n._url,a=n._start,c=n._data,f={api:"xhr",request:{url:tn(u),method:(r||"").toLowerCase(),headers:i&&(e=i,Object.keys(e).reduce((function(n,t){return!Un(t,e[t])&&(n[t.toLowerCase()]=e[t]),n}),{})),timestamp:a},response:{status:n.status||0,is_custom_error:!1,timestamp:K()},duration:K()-a};"function"===typeof n.getAllResponseHeaders&&(f.response.headers=function(n){return g(n)&&n?n.split("\r\n").reduce((function(n,t){if(g(t)){var e=o(t.split(": "),2),r=e[0],i=e[1];!Un(r,i)&&(n[r.toLowerCase()]=i)}return n}),{}):{}}(n.getAllResponseHeaders()));var s=f.response.status,l=t.collectBodyOnError,v=t.extraExtractor;try{var d=null===v||void 0===v?void 0:v(n.response,f,c);d&&(f.extra=d),d&&(f.response.is_custom_error=!0),l&&(d||s>=400)&&(f.request.body=c?""+c:void 0,f.response.body=n.response?""+n.response:void 0)}catch(p){}return f};function Xn(n,t,e){var r,o=null===(r=n.config())||void 0===r?void 0:r.plugins[t];return yn(o,e)}var Kn={autoWrap:!0,setContextAtReq:function(){return f},ignoreUrls:[],collectBodyOnError:!1};var Wn=function(n,t,e){var r=o(t,2),i=r[0],u=r[1],a=e.setTraceHeader,f=e.ignoreUrls,s=e.setContextAtReq,l=e.extractUrl,v=window.Headers,d=window.Request;d&&v&&n.push(i[0]((function(n){var t=o(n,2),r=t[0],i=t[1],p=tn(r instanceof d?r.url:r);if(!Vn(p)||Hn(f,p))return c;a&&a(p,(function(n,t){return Yn(n,t,r,i,d,v)}));var h=s(),g=K(),m=void 0,y=u()[0]((function(n){p===n.name&&!m&&(m=n)}));return function(n){var t=nt(r,i,n,d,v,e,g),o=function(n){var t=!1;return function(e){t||(t=!0,n(e))}}((function(n){m&&(n.response.timing=m),Fn(n,l),h&&h({ev_type:"http",payload:n}),y()}));setTimeout((function(){o(t)}),1e3)}})))},Vn=function(n){if(!g(n))return!1;var t=o(n.split(":"),2),e=t[0];return!t[1]||"http"===e||"https"===e},Jn=function(n,t){return n instanceof t},Yn=function(n,t,e,o,i,u){var a;Jn(e,i)?e.headers.set(n,t):o.headers instanceof u?o.headers.set(n,t):o.headers=r(r({},o.headers),((a={})[n]=t,a))},$n=function(n,t,e){var r=t&&t.method||"get";return Jn(n,e)&&(r=n.method||r),r.toLowerCase()},Qn=function(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];try{return t.reduce((function(t,e){return new n(e||{}).forEach((function(n,e){return!Un(e,n)&&(t[e]=n)})),t}),{})}catch(be){return{}}},Zn=function(n,t,e){return Jn(n,e)?n.body:null===t||void 0===t?void 0:t.body},nt=function(n,t,e,r,o,i,u){var a={api:"fetch",request:{method:$n(n,t,r),timestamp:u,url:tn(n instanceof r?n.url:n),headers:Qn(o,n.headers,t.headers)},response:{status:e&&e.status||0,is_custom_error:!1,timestamp:K()},duration:K()-u},f=i.collectBodyOnError,s=i.extraExtractor,l=function(){var e;f&&(a.request.body=null===(e=Zn(n,t,r))||void 0===e?void 0:e.toString())};if(e)try{a.response.headers=Qn(o,e.headers);try{s&&e.clone().json().then((function(e){var o,i=s(e,a,null===(o=Zn(n,t,r))||void 0===o?void 0:o.toString());i&&(a.extra=i,a.response.is_custom_error=!0,l())})).catch(c)}catch(v){}e.status>=400&&l()}catch(be){}else l();return a},tt={autoWrap:!0,setContextAtReq:function(){return f},ignoreUrls:[],collectBodyOnError:!1};var et=["name","message","stack","filename","lineno","colno"],rt=function(n){var t,e,r,o;return!function(n){switch(Object.prototype.toString.call(n)){case"[object Error]":case"[object Exception]":case"[object DOMError]":case"[object DOMException]":return!0;default:return n instanceof Error}}(n)?(v(n)||(o=n,"undefined"!==typeof Event&&function(n,t){try{return n instanceof t}catch(e){return!1}}(o,Event))||g(n))&&(t={message:R(n)}):(r=et,t=(e=n)&&s(e)?r.reduce((function(n,t){return n[t]=e[t],n}),{}):e),t},ot=function(n){return t=n,"[object ErrorEvent]"===Object.prototype.toString.call(t)?rt(n.error):function(n){return"[object PromiseRejectionEvent]"===Object.prototype.toString.call(n)}(n)?function(n){var t;try{var e=void 0;if("reason"in n?e=n.reason:"detail"in n&&"reason"in n.detail&&(e=n.detail.reason),e){var o=rt(e);return r(r({},o),{name:null!==(t=o&&o.name)&&void 0!==t?t:"UnhandledRejection"})}}catch(i){}}(n):rt(n);var t},it=function(n){return"hidden"===n.visibilityState},ut=["hidden_2",function(n,t){var e=W(),r=V();if(e&&r){var o=function(){n(it(r))};addEventListener("visibilitychange",o,!0),t((function(){removeEventListener("visibilitychange",o,!0)}),(function(n){n(it(r))}))}}],at=function(n){return"complete"===n.readyState},ct=["load_1",function(n,t){var e=W(),r=V();if(e&&r){var o=!1,i=function(){setTimeout((function(){n(),o=!0}),0)};at(r)?i():e.addEventListener("load",i,!1),t((function(){e.removeEventListener("load",i,!1)}),(function(n){o&&n()}))}}],ft=["unload_0",function(n,t){var e=W();if(e){var r=o(gn(n),1)[0],i=["unload","beforeunload","pagehide"],u=function(){r()};i.forEach((function(n){e.addEventListener(n,u)})),t((function(){i.forEach((function(n){e.removeEventListener(n,u)}))}))}}],st=["hash_0",function(n,t){var e=W();if(e){var r=function(){return n(location.href)};e.addEventListener("hashchange",r,!0),t((function(){return e.removeEventListener("hashchange",r,!0)}))}}],lt=["history_0",function(n,t){var e=W()&&window.history;if(e){var r=[],o=function(){return n(location.href)},i=function(n){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];try{n.apply(e,t)}finally{o()}}};r.push(O(e,"pushState",i)(),O(e,"replaceState",i)()),window.addEventListener("popstate",o,!0),r.push((function(){return window.removeEventListener("popstate",o,!0)})),t((function(){r.forEach((function(n){return n()}))}))}}],vt=function(n){return dt(n,K())},dt=function(n,t){return n+"_"+t},pt=function(n){return"manual"===n},ht=function(n,t){var e=n[0]+n[1]+n[2],r=n[0]/e;return n[2]/e>t.frustrating_threshold?2:r>t.satisfying_threshold||0===e?0:1},gt=function(n,t){return function(e,r){var o=e.payload;switch(e.ev_type){case"performance":var i=o.name;o.isSupport&&n(r.perf_apdex,i,o.value);break;case"action":n(r.perf_apdex,"action",o.duration||0);break;case"js_error":t(r.error_weight,0);break;case"http":if(o.response.is_custom_error||o.response.status>=400)t(r.error_weight,1);else{var u=o.response.timing;u&&n(r.duration_apdex,0,u.duration)}break;case"resource_error":t(r.error_weight,2);break;case"blank_screen":t(r.error_weight,3);break;case"resource":n(r.duration_apdex,1,o.duration);break;case"performance_longtask":o.longtasks.forEach((function(t){n(r.duration_apdex,2,t.duration)}))}}},mt=function(){var n,t,e=function(){n=[0,0,0],t=function(){var n;return(n={error_count:[0,0,0,0],duration_count:[0,0,0]}).perf_apdex={},n}()};e();return[function(e,r,o){var i=e&&e[r];if(i&&!(o<=0)){var u=o<(i[0].threshold||0)?0:o>(i[1].threshold||0)?2:1;if(n[u]+=i[u].weight,"string"===typeof r){var a=dt(r,u),c=t.perf_apdex[a];t.perf_apdex[a]=(c||0)+1}else 2===u&&(t.duration_count[r]+=1)}},function(e,r){e&&(n[2]+=e[r],t.error_count[r]+=1)},function(){return[n,t]},e]},yt=function(n,t,e,r){var i=r.sendInit,u=r.initPid,a=r.routeMode,c=r.extractPid,f=r.onPidUpdate,s=pt(a)?function(){return""}:function(n){return function(t){var e;return"hash"===n?(null===(e=en(t).hash)||void 0===e?void 0:e.replace(/^#/,""))||"/":en(t).path}}(a),l=c||function(){},v=o(function(n,t,e,r){var o=e,i=t;r&&r(t);return[function(t,e,u){"user_set"!==t&&e!==o?(o=e,i=null!==u&&void 0!==u?u:o,r&&r(i),n(t,i)):"user_set"===t&&e!==i&&(i=e,r&&r(i),n(t,i))},function(){t&&n("init",t)}]}(function(n){return function(t,e){n(function(n,t){return{ev_type:"pageview",payload:{pid:t,source:n}}}(t,e))}}(n),u||function(n){var t;return null!==(t=l(n))&&void 0!==t?t:s(n)}(location.href),s(location.href),f),2),d=v[0],p=v[1];if(!pt(a)){var h=o(function(n,t){var e=t;return[function(t,r){r!==e&&n(t,e=r)}]}((function(n,t){return d(n,s(t),l(t))}),""),1)[0];e.length&&e.forEach((function(n){return t.push(n[0]((function(n){return h(a,n)})))}))}return i&&p(),[d.bind(null,"user_set")]},_t=function(n,t,e,r){var i=o(e,2),u=i[0],a=i[1],c=2===r.apdex,f=void 0,s=void 0,l=void 0,v=!1,d=o(mt(),4),p=d[0],h=d[1],g=d[2],m=d[3],y=o(mt(),4),_=y[0],b=y[1],E=y[2],w=y[3],x=o(function(){var n={start:K(),end:0,time_spent:0,is_bounced:!1,entry:"",exit:"",p_count:0,a_count:0};return[function(t,e){var r=o(t,3),i=r[0],u=r[1],a=r[2];n.end=K(),n.time_spent+=e&&e.time_spent||0,n.last_page=e,n.p_count+=1,n.rank=i,n.apdex=u,n.apdex_detail=a;var c=V();c&&(n.is_bounced=!at(c))},function(t,e){n.time_spent+=t.time_spent,n.p_count+=1,n.exit=e},function(){n.a_count+=1},function(t){n.entry=t,n.exit=t},function(){return n}]}(),5),S=x[0],R=x[1],O=x[2],T=x[3],j=x[4],I=o(function(){var n=0,t=void 0;return[function(e){if(e){if(!t)return;n+=K()-t,t=void 0}else t=K()},function(){t&&(n+=K()-t);var e=n;return n=0,t=K(),e}]}(),2),C=I[0],A=I[1];t.push(u[0](C)),!c&&t.push(a[0]((function(){if(v){var t=o(E(),2),e=t[0],r=t[1],i=ht(e,l);S([i,e,r],P()),n({ev_type:"session",payload:j()}),w()}})));var D=gt(p,h),L=gt(_,b),P=function(){var n=o(g(),2),t=n[0],e=n[1];return{start:f[0],pid:f[1],view_id:f[2],end:K(),time_spent:A(),apdex:t,rank:ht(t,l),detail:e}};return t.push((function(){v=!1})),[function(n,t){if(!f)return f=[K(),n,t],T(n),void(v=!(!l||!f));v&&(s=P(),R(s,n)),f=[K(),n,t],m()},function(n){v&&(D(n,l),c||(L(n,l),"action"===n.ev_type&&O()))},function(t){v&&(t.payload.last=s),n(t)},function(n){if(!n)return t.forEach((function(n){return n()})),void(t.length=0);v=!(!(l=n)||!f)}]},bt={sendInit:!0,routeMode:"history",apdex:2};var Et={isSupport:!0,isPolyfill:!1,isBounced:!1,isCustom:!1,type:"perf"},wt=function(n,t){return r({name:n,value:t},Et)},xt=function(n,t,e){var r=!1;return function(o){e.length&&e.forEach((function(n){n()})),e.length=0,r||(r=!0,t&&t(n(o)))}},St=function(n,t){return{ev_type:"performance",payload:n,overrides:t}},Rt=function(n){var t=n||{},e=t.domContentLoadedEventEnd,r=t.navigationStart;return e?e-(void 0===r?0:r):null},Ot=function(n,t){var e=n.startTime,r=n.duration;n.start=e,n.end=e+r,t.push(n)},Tt=function(n,t,e){var r=o(t,5),i=r[0],u=r[1],a=r[2],f=r[3],s=r[4];return function(t,r){var l=[],v=[],d=o(function(){var n={};return[n,function(t,e){return n[t]=e},function(t){return delete n[t]}]}(),3),p=d[0],h=d[1],g=d[2];e.forEach((function(n){n.entryType===An[0]&&Ot(n,l)}));var m=0;n.push(i[0]((function(n){if("get"!==(o(n,1)[0]||"").toLowerCase())return c;var t=m+=1;return h(t,K()),function(){g(t)}}))),n.push(u[0]((function(n){var t=o(n,2),e=t[0],r=t[1];if(!window.Request||"get"!==$n(e,r,window.Request))return c;var i=m+=1;return h(i,K()),function(){g(i)}})));var y=o(s&&function(n,t){var e=["img","script","iframe","link","audio","video","source"];function r(n,t){for(var e=0;e<n.length;e++)if(b(t,n[e].nodeName.toLowerCase())||n[e].children&&r(n[e].children,t))return!0;return!1}var i=o(vn(n,(function(n){for(var o=0;o<n.length;o++)("childList"===n[o].type&&r(n[o].addedNodes,e)||"attributes"===n[o].type&&b(e,n[o].target.nodeName.toLowerCase()))&&t(n[o])})),2),u=i[0];return[function(){return u(document,{attributes:!0,childList:!0,subtree:!0,attributeFilter:["href","src"]})},i[1]]}(s,(function(){return t(r()+5e3)}))||[],2),_=y[0],E=y[1];_&&_();var w=function(){return function(n,t,e){if(n.length>2)return e();for(var r=[],i=0;i<t.length;i++)r.push([t[i].start,0],[t[i].end,1]);for(i=0;i<n.length;i++)r.push([n[i],0]);r.sort((function(n,t){return n[0]-t[0]}));var u=n.length;for(i=r.length-1;i>=0;i--){var a=o(r[i],2),c=a[0];switch(a[1]){case 0:u--;break;case 1:if(++u>2)return c}}return 0}(function(n){for(var t=Object.keys(n),e=[],r=0;r<t.length;r++){var o=n[t[r]];"number"===typeof o&&e.push(o)}return e}(p),v,r)};return E&&n.push(E),n.push(a[0]((function(n){Ot(n,l);var e=n.startTime,r=n.duration;t(e+r+5e3)}))),n.push(f[0]((function(n){var e=n.fetchStart,r=n.responseEnd;v.push({start:e,end:r}),t(w()+5e3)}))),n.push((function(){l.length=0,v.length=0})),[l,w]}},jt=function(n,t,e,r){var i=o(e,5),u=i[0],a=i[1],c=i[2],f=i[3],s=i[4],l=wt("tti",0),v=xt(St,n,t),d=J(),p=Q(),h=r||{},g=h.entries,m=void 0===g?[]:g,y=h.observer;if(t.push((function(){y&&y.disconnect(),m.length=0})),!window||!XMLHttpRequest||!d||!p||p.supportedEntryTypes&&!b(p.supportedEntryTypes||[],An[0]))return l.isSupport=!1,void v(l);var _=o(dn(d),5),E=_[0],w=_[1],x=_[4],S=o(function(n){var t,e=-1/0,r=void 0,o=function(){return window.clearTimeout(r)},i=function(i){e>i||!t||(o(),r=window.setTimeout(t,i-n()),e=i)};return[function(n,e){t=n,i(e)},function(){o(),t=void 0},i]}(w),3),R=S[0],O=S[1],T=S[2],j=o(Tt(t,[u,a,c,f,$()],m)(T,w),2),I=j[0],C=j[1];t.push(O);var A=function(n){var t=x("first-contentful-paint")[0],e=function(n,t,e,r,o){if(r-e<5e3)return null;var i=0===o.length?n:o[o.length-1].end;return r-i<5e3?null:Math.max(i,t)}((t?t.startTime:Rt(E))||0,Rt(E)||0,C(),w(),I);if(!e)return T(w()+1e3);n(e)},D=function(n){l.value=n,v(l)},L=I[I.length-1];R((function(){return A(D)}),Math.max(C()+5e3,L?L.end:0)),t.push(s[0]((function(){l.isSupport=!1,v(l)})))};var It=["SCRIPT","STYLE","META","HEAD"],Ct=function(n,t,e,r){if(!n||r.indexOf(n.tagName)>-1)return 0;var o=n.children,i=void 0===o?[]:o,u=[].slice.call(i).reduceRight((function(n,e){return n+Ct(e,t+1,n>0,r)}),0);if(u<=0&&!e){if(!p(n.getBoundingClientRect))return 0;var a=n.getBoundingClientRect()||{},c=a.top,f=a.height;if(c>window.innerHeight||f<=0)return 0}return u+1+.5*t},At=function(n,t,e){var r=o(e,2),i=r[0],u=r[1],a=V(),f=$(),s=J(),l=s&&s.timing&&s.timing.navigationStart||void 0,v=wt("fmp",0),d=xt(St,n,t);if(!a||!f||!l)return v.isSupport=!1,void d(v);var h=K(),g=[],m=function(){return g.push({time:K()-h,score:Ct(a&&a.body,1,!1,It)})},y=function(){if(W()&&"requestAnimationFrame"in window)return window.requestAnimationFrame}(),_=function(){if(W()&&"cancelAnimationFrame"in window)return window.cancelAnimationFrame}(),b=o(function(n,t,e,r){var o,i=!p(t)||r&&n&&n.hidden?function(n){return n(0),0}:t,u=p(e)?e:c;return[function(n){o&&u(o),o=i(n)},i,u]}(a,y,_,!0),1)[0],E=o(vn(f,(function(){return b(m)})),2),w=E[0],x=E[1],S=function(n){void 0===n&&(n=0);var t=function(n){var t=o(void 0===n?[]:n),e=t[0],r=t.slice(1);return r&&r.reduce((function(n,t){var e=o(n,2),r=e[0],i=e[1],u=t.score-r.score;return[t,t.time>=r.time&&i.rate<u?{time:t.time,rate:u}:i]}),[e,{time:null===e||void 0===e?void 0:e.time,rate:0}])[1].time||0}(g);v.value=t?t+n:0,d(v),g.length=0},R=h-(l||0);w(a,{subtree:!0,childList:!0}),t.push(x),t.push(u[0]((function(){v.isSupport=!1,d(v)}))),t.push(i[0]((function(){var n,e;n=window.setTimeout((function(){S(R)}),200),e=t,n&&e.push((function(){return clearTimeout(n)}))})))},Dt={renderType:"CSR"};var Lt=function(n){n.provide("sendEvent",(function(t){var e=function(n){if(n&&s(n)&&n.name&&g(n.name)){var t={name:n.name,type:"event"};if("metrics"in n&&s(n.metrics)){var e=n.metrics,r={};for(var o in e)h(e[o])&&(r[o]=e[o]);t.metrics=r}if("categories"in n&&s(n.categories)){var i=n.categories,u={};for(var o in i)u[o]=R(i[o]);t.categories=u}return t}}(t);e&&n.report({ev_type:"custom",payload:e,extra:{timestamp:K()}})})),n.provide("sendLog",(function(t){var e=function(n){if(n&&s(n)&&n.content&&g(n.content)){var t={content:R(n.content),type:"log",level:"info"};if("level"in n&&(t.level=n.level),"extra"in n&&s(n.extra)){var e=n.extra,r={},o={};for(var i in e)h(e[i])?r[i]=e[i]:o[i]=R(e[i]);t.metrics=r,t.categories=o}return t}}(t);e&&n.report({ev_type:"custom",payload:e,extra:{timestamp:K()}})}))};function Pt(n){return(null===n||void 0===n?void 0:n.effectiveType)||(null===n||void 0===n?void 0:n.type)||""}var kt=function(n,t){var e=n.common||{};return e.sample_rate=t,n.common=e,n},Nt=function(n,t,e,r,o){return n?(i=o(r,t),function(){return i}):function(){return e(t)};var i},Mt=function(n,t,e,r){var o=w(n,t,(function(n,t){return n[t]}));return void 0!==o&&function(n,t,e){switch(e){case"eq":return b(t,n);case"neq":return!b(t,n);case"gt":return n>t[0];case"gte":return n>=t[0];case"lt":return n<t[0];case"lte":return n<=t[0];case"regex":return Boolean(n.match(new RegExp(t.join("|"))));case"not_regex":return!n.match(new RegExp(t.join("|")));default:return!1}}(o,function(n,t){return n.map((function(n){switch(t){case"number":return Number(n);case"boolean":return"1"===n;case"string":default:return String(n)}}))}(r,"boolean"===typeof o?"bool":h(o)?"number":"string"),e)},qt=function(n,t){try{return"rule"===t.type?Mt(n,t.field,t.op,t.values):"and"===t.type?t.children.every((function(t){return qt(n,t)})):t.children.some((function(t){return qt(n,t)}))}catch(e){return ln(e),!1}},Bt=function(n,t,e,r,o){if(!t)return f;var i=t.sample_rate,u=t.include_users,a=t.sample_granularity,c=t.rules,s=t.r,l=void 0===s?Math.random():s;if(b(u,n))return function(n){return kt(n,1)};var v="session"===a,d=Nt(v,i,e,l,r),p=function(n,t,e,r,o,i){var u={};return Object.keys(n).forEach((function(a){var c=n[a],f=c.enable,s=c.sample_rate,l=c.conditional_sample_rules;f?(u[a]={enable:f,sample_rate:s,effectiveSampleRate:s*e,hit:Nt(t,s,r,o,i)},l&&(u[a].conditional_hit_rules=l.map((function(n){var u=n.sample_rate,a=n.filter;return{sample_rate:u,hit:Nt(t,u,r,o,i),effectiveSampleRate:u*e,filter:a}})))):u[a]={enable:f,hit:function(){return!1},sample_rate:0,effectiveSampleRate:0}})),u}(c,v,i,e,l,r);return function(n){var t;if(!d())return v&&o[0](),!1;if(!(n.ev_type in p))return kt(n,i);if(!p[n.ev_type].enable)return v&&o[1](n.ev_type),!1;if(null===(t=n.common)||void 0===t?void 0:t.sample_rate)return n;var e=p[n.ev_type],r=e.conditional_hit_rules;if(r)for(var u=0;u<r.length;u++)if(qt(n,r[u].filter))return!!r[u].hit()&&kt(n,r[u].effectiveSampleRate);return e.hit()?kt(n,e.effectiveSampleRate):((!r||!r.length)&&v&&o[1](n.ev_type),!1)}},Ht=function(n,t,e){var r=t.url,o=t.data,i=t.success,u=void 0===i?c:i,a=t.fail,f=void 0===a?c:a,s=t.getResponseText,l=void 0===s?c:s,v=t.withCredentials,d=void 0!==v&&v,p=new e;p.withCredentials=d,p.open(n,r,!0),p.setRequestHeader("Content-Type","application/json"),p.onload=function(){null===l||void 0===l||l(this.responseText);try{if(this.responseText){var n=JSON.parse(this.responseText);u(n)}else u({})}catch(t){f(t)}},p.onerror=function(){f(new Error("Network request failed"))},p.onabort=function(){f(new Error("Network request aborted"))},p.send(o)},Ut=function(){var n=Y();return n?{get:function(t){Ht("GET",t,n)},post:function(t){Ht("POST",t,n)}}:{get:c,post:c}};function Ft(n){var t=function(n){var t,e=n.transport,r=n.endpoint,o=n.size,i=void 0===o?10:o,a=n.wait,c=void 0===a?1e3:a,f=[],s=0;function l(){if(f.length){var n=this.getBatchData();e.post({url:r,data:n,fail:function(e){t&&t(e,n)}}),f=[]}}return{getSize:function(){return i},getWait:function(){return c},setSize:function(n){i=n},setWait:function(n){c=n},getEndpoint:function(){return r},setEndpoint:function(n){r=n},send:function(n){f.push(n),f.length>=i&&l.call(this),clearTimeout(s),s=setTimeout(l.bind(this),c)},flush:function(){clearTimeout(s),l.call(this)},getBatchData:function(){return f.length?u(f):""},clear:function(){clearTimeout(s),f=[]},fail:function(n){t=n}}}(n),e=function(){var n=W();return n&&n.navigator.sendBeacon?{get:function(){},post:function(t,e){n.navigator.sendBeacon(t,e)}}:{get:c,post:c}}(),r=function(n){e.post(t.getEndpoint(),u([n]))};return function(n){var t=W();if(t){var e=o(gn(n),1)[0];["unload","beforeunload","pagehide"].forEach((function(n){t.addEventListener(n,e)}))}}((function(){var n=t.getBatchData();n&&(e.post(t.getEndpoint(),n),t.clear()),t.send=r})),t}var Gt="https://lf16-cdn-tos.tiktokcdn-us.com/obj/static-tx/slardar/fe/sdk-web/plugins",zt="/monitor_web/settings/browser-settings",Xt=["/log/sentry/","/monitor_browser/collect/batch/",zt],Kt=["blankScreen","action"],Wt={sample_rate:1,include_users:[],sample_granularity:"session",rules:{}};function Vt(n,t,e){void 0===e&&(e=$t),function(n){var t=W(),e=V();t&&e&&("complete"!==e.readyState?t.addEventListener("load",(function(){setTimeout((function(){n()}),0)}),!1):n())}((function(){n.on("init",(function(){e(n,t)}))}))}var Jt=function(n,t,e,r){void 0===r&&(r=Qt);var o=t.config(),i=o.plugins,u=o.pluginBundle,a=n.filter((function(n){return i[n]&&!t.destroyAgent.has(n)})),c=function(){return a.forEach((function(n){return Zt(t,n,e)}))};a.every((function(n){return te(n,e)}))?c():r(t,{name:u.name},c)},Yt=function(n,t,e,r){void 0===r&&(r=Qt);var o=t.config().plugins;n.filter((function(n){return o[n]&&!t.destroyAgent.has(n)})).forEach((function(n){te(n,e)?Zt(t,n,e):r(t,{name:n,config:o[n]},(function(){return Zt(t,n,e)}))}))};function $t(n,t,e){void 0===e&&(e=Qt);var o=n.config().pluginBundle,i=o?o.plugins:[];Jt(i,n,t,e),Yt(Kt,n,t,e),n.provide("reloadPlugin",function(n){return function(t,e){var o,i=n.config().pluginBundle;n.destroyAgent.has(t)&&n.destroyAgent.remove(t),void 0!==e&&n.set({plugins:r(r({},n.config().plugins),(o={},o[t]=e,o))}),i&&~i.plugins.indexOf(t)?Jt([t],n):Yt([t],n)}}(n))}function Qt(n,t,e,r){var o=t.name,i=t.config;void 0===r&&(r=mn),r(function(n,t,e){var r;return null!==(r=null===e||void 0===e?void 0:e.path)&&void 0!==r?r:n.config().pluginPathPrefix+"/"+(o=t,o.replace(/([a-z])([A-Z])/g,(function(n,t,e){return t+"-"+e.toLowerCase()}))+".1.11.0.js");var o}(n,o,i),(function(){e()}))}function Zt(n,t,e){if(void 0===e&&(e=sn(W())),e){var r=ne(e,t);if(r)try{if(n.destroyAgent.has(t))return;r.apply(n)}catch(o){ln(o),D("[loader].applyPlugin failed",t,o)}else D("[loader].applyPlugin not found",t)}}function ne(n,t){return n.plugins.filter((function(n){return n.name===t&&"1.11.0"===n.version}))[0]}function te(n,t){return void 0===t&&(t=sn(W())),!(!t||!t.plugins)&&!!ne(t,n)}function ee(n,t,e){void 0===e&&(e=sn(W())),e&&e.plugins&&(ne(e,n)||e.plugins.push({name:n,version:"1.11.0",apply:t}))}function re(n){var t=n.plugins||{};for(var e in t)t[e]&&!s(t[e])&&(t[e]={});return r(r({},n),{plugins:t})}function oe(n){return s(n)&&"bid"in n}function ie(n){return r({},n)}function ue(n){var t;if(!n)return{};var e=n.sample,r=n.plugins,o=n.timestamp,i=n.quota_rate,u=void 0===i?1:i,a=n.apdex;if(!e)return{};var c=e.sample_rate,f=e.sample_granularity,s=void 0===f?"session":f,l=e.include_users,v=e.rules;return{sample:{include_users:l,sample_rate:c*u,sample_granularity:s,rules:(void 0===v?[]:v).reduce((function(n,t){var e=t.name,r=t.enable,o=t.sample_rate,i=t.conditional_sample_rules;return n[e]={enable:r,sample_rate:o,conditional_sample_rules:i},n}),{})},plugins:{heatmap:null!==(t=null===r||void 0===r?void 0:r.heatmap)&&void 0!==t&&t},apdex:a,serverTimestamp:o}}var ae=function(n,t){return void 0===t&&(t="/monitor_browser/collect/batch/"),(n&&n.indexOf("//")>=0?"":"https://")+n+t},ce=function(n,t){return void 0===t&&(t=zt),(n&&n.indexOf("//")>=0?"":"https://")+n+t},fe=function(){return N()},se=function(n){var t=[];return n.observe=function(n){t.push(n)},n.push=function(){for(var e,r=[],u=0;u<arguments.length;u++)r[u]=arguments[u];return r.forEach((function(n){t.forEach((function(t){return t(n)}))})),(e=[].push).call.apply(e,i([n],o(r),!1))},n},le=function(){var n,t,e,r=W(),o=V();if(r&&o)return(null===(e=null===(t=null===(n=nn())||void 0===n?void 0:n.getAttribute("src"))||void 0===t?void 0:t.match(/globalName=(.+)$/))||void 0===e?void 0:e[1])||"Slardar"},ve=function(n){return"SLARDAR"+n},de=function(n,t){var e=localStorage.getItem(n);if(e&&_n()&&"{"===e[0])try{En(n,JSON.parse(e),t)}catch(C){}},pe=function(n,t){void 0===n&&(n="");var e={userId:N(),deviceId:N()};if(t<=0)return e;var r=ve(n);return de(r,t),bn(r)||e},he=function(n){var t=n.bid,e=n.userId,r=n.deviceId,o=n.storageExpires,i=ve(t);En(i,{userId:e,deviceId:r},wn(o))},ge={get:function(){return this.__SLARDAR__REPALCE__HOLDER__}},me=function(n){var t,e,o=n,i={},u=ge.get(),a=c,f=c;return{getConfig:function(){return o},setConfig:function(n){return i=r(r({},i),n||{}),s(),t||(t=n,o.useLocalConfig||!o.bid?(e={},a()):u?l():ye(o.transport,o.domain,o.bid,(function(n){u=n,l()}))),o},onChange:function(n){f=n},onReady:function(n){a=function(){he(o),n()},e&&a()}};function s(){var t=r(r(r({},n),e||{}),i);t.plugins=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];for(var e={},r=0;r<n.length;)e=y(e,n[r++]);return e}(n.plugins,(null===e||void 0===e?void 0:e.plugins)||{},i.plugins||{}),t.sample=_e(_e(n.sample,null===e||void 0===e?void 0:e.sample),i.sample),o=t,f()}function l(){e=ue(u),s(),a()}};function ye(n,t,e,r){n.get({withCredentials:!0,url:ce(t)+"?bid="+e+"&store=1",success:function(n){r(n.data||{})},fail:function(){r({sample:{sample_rate:.001}})}})}function _e(n,t){if(!n||!t)return n||t;var e=r(r({},n),t);return e.include_users=i(i([],o(n.include_users||[]),!1),o(t.include_users||[]),!1),e.rules=i(i([],o(Object.keys(n.rules||{})),!1),o(Object.keys(t.rules||{})),!1).reduce((function(e,u){var a,c;return u in e||(u in(n.rules||{})&&u in(t.rules||{})?(e[u]=r(r({},n.rules[u]),t.rules[u]),e[u].conditional_sample_rules=i(i([],o(n.rules[u].conditional_sample_rules||[]),!1),o(t.rules[u].conditional_sample_rules||[]),!1)):e[u]=(null===(a=n.rules)||void 0===a?void 0:a[u])||(null===(c=t.rules)||void 0===c?void 0:c[u])),e}),{}),e}var be,Ee={build:function(n){return{ev_type:n.ev_type,payload:n.payload,common:r(r({},n.extra||{}),n.overrides||{})}}},we=function(n){var t={url:rn(),timestamp:K(),sdk_version:"1.11.0",sdk_name:"SDK_SLARDAR_WEB"};return r(r({},n),{extra:r(r({},t),n.extra||{})})},xe=function(n){n.on("report",(function(n){return we(n)}))},Se={sri:"reportSri",st:"reportResourceError",err:"captureException",reject:"captureException"},Re=function(n){return Object.keys(n).reduce((function(n,t){return n[t]=[],n}),{})},Oe=function(n){return Object.keys(n).reduce((function(t,e){return t[n[e]]?t[n[e]].push(e):t[n[e]]=[e],t}),{})},Te=function(n,t,e){return function(o,i,u,a){var c;void 0===u&&(u=K()),void 0===a&&(a=location.href);var f=r(r({},pn(n)),{url:a,timestamp:u});t[o]&&(n[e[o]]?hn(n,f)((function(){n[e[o]](i)})):null===(c=t[o])||void 0===c||c.push([i,f]))}},je=function(n,t,e){return function(r){r in e&&e[r].forEach((function(e){var i;null===(i=t[e])||void 0===i||i.forEach((function(t){var e=o(t,2),i=e[0],u=e[1];hn(n,u)((function(){n[r](i)}))})),t[e]=null}))}},Ie=function(n,t){return"err"===t?!1!==w(n,"plugins.jsError.onerror",(function(n,t){return n[t]})):"reject"!==t||!1!==w(n,"plugins.jsError.onunhandledrejection",(function(n,t){return n[t]}))},Ce=function(n,t){var e;void 0===t&&(t=Se);var r=Re(t),i=Oe(t),u=Te(n,r,t);(null===(e=n.p)||void 0===e?void 0:e.a)&&"observe"in n.p.a&&n.p.a.observe((function(t){var e=o(t,5);e[0];var r=e[1],i=e[2],a=e[3],c=e[4],f=n.config();Ie(f,r)&&u(r,i,a,c)})),n.on("init",(function(){var t,e=n.config();null===(t=n.p)||void 0===t||t.a.forEach((function(n){var t=o(n,5);t[0];var r=t[1],i=t[2],a=t[3],c=t[4];Ie(e,r)&&u(r,i,a,c)})),n.p&&n.p.a&&(n.p.a.length=0),n.provide("precollect",(function(n,t,r,o){void 0===r&&(r=K()),void 0===o&&(o=location.href),Ie(e,n)&&u(n,t,r,o)}))})),n.on("provide",je(n,r,i))},Ae=function(n){var t=o(n,2),e=t[0],r=t[1];return{ev_type:"js_error",payload:{error:ot(e),breadcrumbs:[],extra:r||{}},extra:{bid:"slardar_sdk"}}},De=function(n,t){void 0===t&&(t=.001);var e=sn(W());e&&(e.errors||(e.errors=[]),"observe"in e.errors||L(t)&&(e.errors=se(e.errors),e.errors.forEach((function(t){n.report(Ae(t))})),e.errors.observe((function(t){n.report(Ae(t))}))))},Le=function(n){var t,e=!1;n.on("init",(function(){t=(new Date).getTime(),n.on("config",(function(){var o,i=null===(o=n.config())||void 0===o?void 0:o.serverTimestamp;if(!(isNaN(i)||Number(i)<=0||e)){e=!0;var u=(new Date).getTime();if(u-t<700&&i){var a=i-(u+t)/2;!isNaN(a)&&(a>0||a<-6e5)&&n.on("beforeBuild",(function(n){var t;return r(r({},n),{extra:r(r({},null!==(t=n.extra)&&void 0!==t?t:{}),{sdk_offset:null!==a&&void 0!==a?a:0})})}))}}}))}))},Pe=function(n,t){var e={};return e.bid=t.bid,e.pid=t.pid,e.view_id=t.viewId,e.user_id=t.userId,e.device_id=t.deviceId,e.session_id=t.sessionId,e.release=t.release,e.env=t.env,r(r({},n),{extra:r(r({},e),n.extra||{})})},ke=function(n){n.on("beforeBuild",(function(t){return Pe(t,n.config())}))},Ne=function(n){n.on("start",(function(){var t=n.config().bid,e=n.getSender();e.setEndpoint(e.getEndpoint()+"?biz_id="+t)}))},Me=function(n){var t=wn(n.storageExpires),e=pe(n.bid,t);return{bid:"",pid:"",viewId:vt("_"),userId:e.userId,deviceId:e.deviceId,storageExpires:t,sessionId:fe(),domain:"mon.us.tiktokv.com",pluginBundle:{name:"commonMonitors",plugins:["breadcrumb","jsError","performance","resourceError","resource"]},pluginPathPrefix:Gt,plugins:{ajax:{ignoreUrls:Xt},fetch:{ignoreUrls:Xt},breadcrumb:{},pageview:{},jsError:{},resource:{},resourceError:{},performance:{},tti:{},fmp:{},blankScreen:!1,heatmap:!1},release:"",env:"production",sample:Wt,transport:Ut()}},qe=function(n){var t=void 0===n?{}:n,e=t.createSender,u=void 0===e?function(n){return Ft({size:20,endpoint:ae(n.domain),transport:n.transport})}:e,a=t.builder,c=void 0===a?Ee:a,f=t.createDefaultConfig,s=F({validateInitConfig:oe,initConfigNormalizer:re,userConfigNormalizer:ie,createSender:u,builder:c,createDefaultConfig:void 0===f?Me:f,createConfigManager:me});De(s),G(s);var l=sn(W());!function(n,t){var e=t||{},r={};n.provide("setFilter",(function(n,t){r[n]||(r[n]=[]),r[n].push(t)})),n.provide("initSubject",(function(t){var i=o(t,2),u=i[0],a=i[1],c=function(n){return n.split("_")[0]}(u),f=!!c&&r[c];return e[u]||(e[u]=B(a,(function(){e[u]=void 0}))),f?X(n,[u,H(e[u],f)]):e[u]})),n.provide("getSubject",(function(n){return e[n]})),n.provide("privateSubject",{})}(s,l&&l.subject),Le(s),ke(s),xe(s),function(n){var t=Z(),e=Pt(t);t&&(t.onchange=function(){e=Pt(t)}),n.on("report",(function(n){return r(r({},n),{extra:r(r({},n.extra||{}),{network_type:e})})}))}(s),Ne(s);var v=function(n,t,e){var r={},u=function(){for(var e,a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var f=a[0];if(f){var s=f.split(".")[0];if(!(s in u)){var l=r[s]||[],v=null!==(e=null===t||void 0===t?void 0:t(n))&&void 0!==e?e:{};return l.push(i([v],o(a),!1)),void(r[s]=l)}return x(u,f,[].slice.call(a,1))}};for(var a in O(n,"provide",(function(t){return function(e,r){u[e]=r,t.call(n,e,r)}}))(),n)Object.prototype.hasOwnProperty.call(n,a)&&(u[a]=n[a]);return n.on("provide",(function(t){r[t]&&(r[t].forEach((function(t){var r=o(t),i=r[0],u=r.slice(1);null===e||void 0===e||e(n,i,u)})),r[t]=null)})),u}(s,pn,(function(n,t,e){return hn(n,t)((function(){var n=o(e),t=n[0],r=n.slice(1);s[t].apply(s,i([],o(r),!1))}))}));return function(n,t){n.on("init",(function(){var e=[],r=function(r){r.forEach((function(r){var o=r.name;b(e,o)||(e.push(o),r.setup(n),t&&t(o,r.setup),n.destroyAgent.set(o,o,[function(){e=E(e,o),r.tearDown&&r.tearDown()}]))}))};n.provide("applyIntegrations",r);var o=n.config();o&&o.integrations&&r(o.integrations)}))}(v,ee),v},Be=((be={}).pageview=function(n){n.on("init",(function(){var t,e=Xn(n,"pageview",bt);if(e&&location){var i=e.routeMode,u=e.apdex,a=n.report.bind(n),f=c;if(u){var s=[],l=o(_t(n.report.bind(n),s,[z(n,ut),z(n,ft)],e),4),v=l[0],d=l[1],p=l[2],h=l[3];a=p,f=v,n.on("send",d),s.push((function(){return n.off("send",d)})),n.on("start",(function(){h(n.config().apdex)})),U(n,"pageview","session",s)}var g=[],m=o(yt(a,g,pt(i)?[]:[n.initSubject(st),n.initSubject(lt)],r(r({},e),{initPid:null===(t=n.config())||void 0===t?void 0:t.pid,onPidUpdate:function(t){var e=vt(t);f(t,e),n.set({pid:t,viewId:e,actionId:void 0})}})),1)[0];X(n,["f_view_0",fn(n)],-1);var y=function(){m(n.config().pid)};n.on("config",y),g.push((function(){return n.off("config",y)})),U(n,"pageview","pageview",g),n.provide("sendPageview",m)}}))},be.ajax=function(n){n.on("init",(function(){var t=Xn(n,"ajax",Kn);if(t){var e=[],o=r(r({},t),{setContextAtReq:function(){return an(n,!0)},setTraceHeader:Mn(t.trace)}),i=function(){return z(n,Pn)};o.autoWrap&&Gn(e,[z(n,["xhr_0",Tn(XMLHttpRequest&&XMLHttpRequest.prototype)]),i],o),U(n,"ajax","http",e),n.provide("wrapXhr",(function(n){function t(){var t=new n;return Gn(e,[B(Tn(t)),i],o),t}return t.prototype=new n,["DONE","HEADERS_RECIEVED","LOADING","OPENED","UNSENT"].forEach((function(e){t[e]=n[e]})),t}))}}))},be.fetch=function(n){n.on("init",(function(){var t=Xn(n,"fetch",tt);if(t){var e=[],o=r(r({},t),{setContextAtReq:function(){return an(n,!0)},setTraceHeader:Mn(t.trace)}),i=function(){return z(n,Pn)};o.autoWrap&&Wn(e,[z(n,In),i],o),U(n,"fetch","http",e),n.provide("wrapFetch",(function(n){var t=void 0;return Wn(e,[B((function(e){t=jn(n,e)})),i],o),t}))}}))},be.tti=function(n){n.on("init",(function(){if(Xn(n,"tti",{})){var t=[];jt(an(n),t,[z(n,["xhr_0",Tn(XMLHttpRequest&&XMLHttpRequest.prototype)]),z(n,In),z(n,Ln),z(n,Pn),X(n,["view_0",cn(n)])],n.pp),U(n,"tti","performance",t)}}))},be.fmp=function(n){n.on("init",(function(){var t=Xn(n,"fmp",Dt);if(t){var e=[],r=z(n,ct);"SSR"===t.renderType?function(n,t,e,r,i){var u=o(i,2),a=u[0],c=u[1],f=Q(),s=J(),l=wt(t,0),v=xt(St,e,r);if(!s||!f)return l.isSupport=!1,void v(l);var d=function(n){var t=n.startTime;l.value=t,v(l)},p=(0,o(dn(s),5)[4])(n)[0];if(p)d(p);else{r.push(Dn(f,(function(t){t.name===n&&d(t)}),["paint"])),r.push(c[0]((function(){l.isBounced=!0,v(l)})));var h=function(n){n&&(l.isSupport=!1,v(l))};r.push((function(){return a[1](h)})),a[0](h)}}("first-paint","fmp",an(n),e,[z(n,ut),z(n,ft)]):At(an(n),e,[r,X(n,["view_0",cn(n)])]),U(n,"fmp","performance",e)}}))},be),He=function(n){void 0===n&&(n={});var t=qe(n);return function(n){n.on("start",(function(){var t=n.config(),e=t.userId,r=t.sample,o=Bt(e,r,L,P,[function(){n.destroy()},function(t){n.destroyAgent.removeByEvType(t)}]);n.on("build",o)}))}(t),Ce(t),Lt(t),Object.keys(Be).forEach((function(n){ee(n,Be[n]),Be[n](t)})),Vt(t),t.provide("create",He),t};var Ue=He(),Fe=W();Fe&&function(n,t){"addEventListener"in n&&(t.pcErr=function(e){var r=(e=e||n.event).target||e.srcElement||{};r instanceof Element||r instanceof HTMLElement?t("precollect","st",{tagName:r.tagName,url:r.getAttribute("href")||r.getAttribute("src")}):t("precollect","err",e.error)},t.pcRej=function(e){e=e||n.event,t("precollect","reject",e.reason||e.detail&&e.detail.reason)},n.addEventListener("error",t.pcErr,!0),n.addEventListener("unhandledrejection",t.pcRej,!0),setTimeout((function(){n.removeEventListener("error",t.pcErr,!0),n.removeEventListener("unhandledrejection",t.pcRej,!0)}),3e5)),"PerformanceObserver"in n&&"PerformanceLongTaskTiming"in n&&(t.pp={entries:[]},t.pp.observer=new PerformanceObserver((function(n){t.pp.entries=t.pp.entries.concat(n.getEntries())})),t.pp.observer.observe({entryTypes:["longtask","largest-contentful-paint","layout-shift"]}),setTimeout((function(){t.pp.observer.disconnect()}),3e5))}(Fe,Ue),t.BATCH_REPORT_PATH="/monitor_browser/collect/batch/",t.DEFAULT_IGNORE_PATHS=Xt,t.DEFAULT_SAMPLE_CONFIG=Wt,t.DEFAULT_SAMPLE_GRANULARITY="session",t.DEFAULT_SENDER_SIZE=20,t.DEVICE_ID_COOKIE_NAME="MONITOR_DEVICE_ID",t.EV_METHOD_MAP=Se,t.EXTRA_INDEPENDENT_PLUGINS=Kt,t.InjectConfigPlugin=ke,t.InjectEnvPlugin=xe,t.InjectQueryPlugin=Ne,t.ObserveErrorPlugin=De,t.PLUGINS_LOAD_PREFIX=Gt,t.PluginMap=Be,t.PrecollectPlugin=Ce,t.REPORT_DOMAIN="mon.us.tiktokv.com",t.SDK_NAME="SDK_SLARDAR_WEB",t.SDK_VERSION="1.11.0",t.SETTINGS_DOMAIN="mon.us.tiktokv.com",t.SETTINGS_PATH=zt,t.STORAGE_PREFIX="SLARDAR",t.TimeCalibrationPlugin=Le,t.USER_ID_COOKIE_NAME="MONITOR_WEB_ID",t.addConfigToReportEvent=Pe,t.addEnvToSendEvent=we,t.applyPlugin=Zt,t.browserBuilder=Ee,t.buildSelfErrorEvent=Ae,t.configHolder=ge,t.createBrowserClient=He,t.createBrowserConfigManager=me,t.createMinimalBrowserClient=qe,t.createStore=Re,t.default=Ue,t.doesPluginExistInRegistry=te,t.filterIfPluginDisabled=Ie,t.getConsumeStored=je,t.getDefaultConfig=Me,t.getDefaultSessionId=fe,t.getDefaultUserIdAndDeviceId=pe,t.getGlobalInstance=function(){var n=W(),t=le();if(n&&t)return n[t]},t.getGlobalName=le,t.getPluginFromRegistry=ne,t.getReportUrl=ae,t.getServerConfig=ye,t.getSettingsUrl=ce,t.getStorageKey=ve,t.getStoreOrConsume=Te,t.glueCodeForStorageSecurity=de,t.hasSetStorageItem=function(n){void 0===n&&(n="");var t=ve(n);return!!bn(t)},t.loadCombinedPlugins=Jt,t.loadIndependentPlugins=Yt,t.loadNow=Qt,t.loadPlugins=$t,t.loadPluginsOnPageLoad=Vt,t.mergeSampleConfig=_e,t.normalizeInitConfig=re,t.normalizeUserConfig=ie,t.parseServerConfig=ue,t.register=ee,t.reverseMap=Oe,t.setStorageUserIdAndDeviceId=he,t.toObservableArray=se,t.validateInitConfig=oe}}]);
//# sourceMappingURL=vendors~sld.js.map