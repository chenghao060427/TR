(window["bytedance_secsdk_captcha_jsonp_2.32.0_2.0.0.69"]=window["bytedance_secsdk_captcha_jsonp_2.32.0_2.0.0.69"]||[]).push([[2],{405:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){return(r=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}).apply(this,arguments)};function o(n,e){var t="function"===typeof Symbol&&n[Symbol.iterator];if(!t)return n;var r,o,i=t.call(n),u=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)u.push(r.value)}catch(A){o={error:A}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u}function i(n,e,t){if(t||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return n.concat(r||Array.prototype.slice.call(e))}var u=10,a=1e3,c=function(n){return JSON.stringify({ev_type:"batch",list:n})};var f=["init","start","config","beforeDestroy","provide","beforeReport","report","beforeBuild","build","beforeSend","send","beforeConfig"],s=function(){return{}};function l(n){return n}function d(n){return"object"===typeof n&&null!==n}var v=Object.prototype;function p(n){if(d(n)){if("function"===typeof Object.getPrototypeOf){var e=Object.getPrototypeOf(n);return e===v||null===e}return"[object Object]"===v.toString.call(n)}return!1}function h(n){return"[object Array]"===v.toString.call(n)}function g(n){return"function"===typeof n}function m(n){return"number"===typeof n}function y(n){return"string"===typeof n}function b(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function _(n,e){var t=r({},n);for(var o in e)b(e,o)&&void 0!==e[o]&&(d(e[o])&&p(e[o])?t[o]=_(d(n[o])?n[o]:{},e[o]):h(e[o])&&h(n[o])?t[o]=E(n[o],e[o]):t[o]=e[o]);return t}function E(n,e){var t=h(n)?n:[],r=h(e)?e:[];return Array.prototype.concat.call(t,r).map(function(n){return n instanceof RegExp?n:d(n)&&p(n)?_({},n):h(n)?E([],n):n})}function w(n,e){if(!h(n))return!1;if(0===n.length)return!1;for(var t=0;t<n.length;){if(n[t]===e)return!0;t++}return!1}var S=function(n,e){if(!h(n))return n;var t=n.indexOf(e);if(t>=0){var r=n.slice();return r.splice(t,1),r}return n},x=function(n,e,t){for(var r,i=o(e.split(".")),u=i[0],a=i.slice(1);n&&a.length>0;)n=n[u],u=(r=o(a))[0],a=r.slice(1);if(n)return t(n,u)},R=function(n){return n.replace(/([a-z])([A-Z])/g,function(n,e,t){return e+"-"+t.toLowerCase()})};function O(n){return h(n)&&n.length?function(n){for(var e=[],t=n.length,r=0;r<t;r++){var o=n[r];y(o)?e.push(o.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")):o&&o.source&&e.push(o.source)}return new RegExp(e.join("|"),"i")}(n):null}function T(n){try{return y(n)?n:JSON.stringify(n)}catch(e){return"[FAILED_TO_STRINGIFY]:"+String(e)}}var j=function(n,e,t,r){return void 0===r&&(r=!0),function(){for(var u=[],a=0;a<arguments.length;a++)u[a]=arguments[a];if(!n)return s;var c=n[e],f=t.apply(void 0,i([c],o(u),!1)),l=f;return g(l)&&r&&(l=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];try{return f.apply(this,n)}catch(t){return g(c)&&c.apply(this,n)}}),n[e]=l,function(t){t||(l===n[e]?n[e]=c:f=c)}}},C=function(n,e,t){return function(){for(var r=[],u=0;u<arguments.length;u++)r[u]=arguments[u];if(!n)return s;var a=n[e],c=t.apply(void 0,i([a],o(r),!1)),f=c;return g(f)&&(f=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return c.apply(this,n)}),n[e]=f,function(){f===n[e]?n[e]=a:c=a}}},I=0,A=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];console.error.apply(console,i(["[SDK]",Date.now(),(""+I++).padStart(8," ")],o(n),!1))},D=0,L=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];console.warn.apply(console,i(["[SDK]",Date.now(),(""+D++).padStart(8," ")],o(n),!1))},P=function(n){return Math.random()<Number(n)},N=function(n,e){return n<Number(e)},k=function(n){return function(e){for(var t=e,r=0;r<n.length&&t;r++)try{t=n[r](t)}catch(o){A(o)}return t}};function M(){var n=function(){for(var n=new Array(16),e=0,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),n[t]=e>>>((3&t)<<3)&255;return n}();return n[6]=15&n[6]|64,n[8]=63&n[8]|128,function(n){for(var e=[],t=0;t<256;++t)e[t]=(t+256).toString(16).substr(1);var r=0,o=e;return[o[n[r++]],o[n[r++]],o[n[r++]],o[n[r++]],"-",o[n[r++]],o[n[r++]],"-",o[n[r++]],o[n[r++]],"-",o[n[r++]],o[n[r++]],"-",o[n[r++]],o[n[r++]],o[n[r++]],o[n[r++]],o[n[r++]],o[n[r++]]].join("")}(n)}var q=function(n){void 0===n&&(n=3e5);var e,t=[],r=[],o=!1,i=function(n,e,t){var r=0;return-1===t?s:function(){if(n())return r&&clearTimeout(r),void(r=0);0===r&&(r=setTimeout(e,t))}}(function(){return!!t.length},function(){o=!0,e&&e[0](),r.forEach(function(n){return n()}),r.length=0,e=void 0},n),u=function(n){t=S(t,n),!o&&i()};return{next:function(n){return function n(e,t){var r=[];try{r=t.reduce(function(n,t){try{var r=t(e);"function"===typeof r&&n.push(r)}catch(o){}return n},[])}catch(o){}return function(e){return n(e,r)}}(n,t)},complete:function(n){r.push(n)},attach:function(n,t){e=[n,t]},subscribe:function(n){if(o)throw new Error("Observer is closed");return t.push(n),e&&e[1]&&e[1](n),i(),function(){return u(n)}},unsubscribe:u}},H=function(n,e,t){var r=q(t);try{n(r.next,r.attach),e&&r.complete(e)}catch(o){}return[r.subscribe,r.unsubscribe]};var B=function(n,e,t,r){return n.destroyAgent.set(e,t,r)};function U(n){var e,t,r=n.builder,u=n.createSender,a=n.createDefaultConfig,c=n.createConfigManager,s=n.userConfigNormalizer,l=n.initConfigNormalizer,v=n.validateInitConfig,p={};f.forEach(function(n){return p[n]=[]});var h=!1,g=!1,m=!1,y=[],b=[],_=function(){var n={},e=function(n){n.length&&n.forEach(function(n){try{n()}catch(e){}}),n.length=0},t=function(t){n[t]&&n[t].forEach(function(n){e(n[1])}),n[t]=void 0};return{set:function(e,t,r){n[e]?n[e].push([t,r]):n[e]=[[t,r]]},remove:t,removeByEvType:function(t){Object.keys(n).forEach(function(r){n[r]&&n[r].forEach(function(n){n[0]===t&&e(n[1])})})},clear:function(){Object.keys(n).forEach(function(n){t(n)})}}}(),E={getBuilder:function(){return r},getSender:function(){return e},getPreStartQueue:function(){return y},init:function(n){if(h)L("already inited");else{if(!(n&&d(n)&&v(n)))throw new Error("invalid InitConfig, init failed");var r=a(n);if(!r)throw new Error("defaultConfig missing");var o=l(n);if((t=c(r)).setConfig(o),t.onChange(function(){x("config")}),!(e=u(t.getConfig())))throw new Error("sender missing");h=!0,x("init",!0)}},set:function(n){h&&n&&d(n)&&(x("beforeConfig",!1,n),null===t||void 0===t||t.setConfig(n))},config:function(n){if(h)return n&&d(n)&&(x("beforeConfig",!1,n),null===t||void 0===t||t.setConfig(s(n))),null===t||void 0===t?void 0:t.getConfig()},provide:function(n,e){w(b,n)?L("cannot provide "+n+", reserved"):(E[n]=e,x("provide",!1,n))},start:function(){var n=this;h&&(g||null===t||void 0===t||t.onReady(function(){g=!0,x("start",!0),y.forEach(function(e){return n.build(e)}),y=[]}))},report:function(n){if(n){var e=k(p.beforeReport)(n);if(e){var t=k(p.report)(e);t&&(g?this.build(t):y.push(t))}}},build:function(n){if(g){var e=k(p.beforeBuild)(n);if(e){var t=r.build(e);if(t){var o=k(p.build)(t);o&&this.send(o)}}}},send:function(n){if(g){var t=k(p.beforeSend)(n);t&&(e.send(t),x("send",!1,t))}},destroy:function(){_.clear(),m=!0,x("beforeDestroy",!0)},on:function(n,e){"init"===n&&h?e():"start"===n&&g?e():"beforeDestroy"===n&&m?e():p[n]&&p[n].push(e)},off:function(n,e){p[n]&&(p[n]=S(p[n],e))},destroyAgent:_};return b=Object.keys(E),E;function x(n,e){void 0===e&&(e=!1);for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];p[n].forEach(function(n){try{n.apply(void 0,i([],o(t),!1))}catch(e){}}),e&&(p[n].length=0)}}var F=function(n){var e=function(){var n={},e={},t={set:function(r,o){return n[r]=o,e[r]=T(o),t},merge:function(o){return n=r(r({},n),o),Object.keys(o).forEach(function(n){e[n]=T(o[n])}),t},delete:function(r){return delete n[r],delete e[r],t},clear:function(){return n={},e={},t},get:function(n){return e[n]},toString:function(){return r({},e)}};return t}();n.provide("context",e),n.on("report",function(n){return n.extra||(n.extra={}),n.extra.context=e.toString(),n})},G=function(n,e,t){var r={},u=function t(){for(var u,a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var f=a[0];if(f){var s=f.split(".")[0];if(!(s in t)){var l=r[s]||[],d=null!==(u=null===e||void 0===e?void 0:e(n))&&void 0!==u?u:{};return l.push(i([d],o(a),!1)),void(r[s]=l)}return function(n,e,t){return x(n,e,function(n,e){if(n&&e in n&&g(n[e]))try{return n[e].apply(n,t)}catch(r){return}})}(t,f,[].slice.call(a,1))}};for(var a in j(n,"provide",function(e){return function(t,r){u[t]=r,e.call(n,t,r)}})(),n)Object.prototype.hasOwnProperty.call(n,a)&&(u[a]=n[a]);return n.on("provide",function(e){r[e]&&(r[e].forEach(function(e){var r=o(e),i=r[0],u=r.slice(1);null===t||void 0===t||t(n,i,u)}),r[e]=null)}),u};function z(n,e){return n.initSubject(e)}function X(n,e,t){var r=o(e,2),i=r[0],u=r[1],a=n.privateSubject||{};return a[i]||(a[i]=H(u,function(){a[i]=void 0},t)),a[i]}var K=function(){return Date.now()};function W(){if("object"===typeof window&&d(window))return window}function V(){if("object"===typeof document&&d(document))return document}function J(){if(W()&&d(window.performance))return window.performance}function Y(){if("function"===typeof XMLHttpRequest&&g(XMLHttpRequest))return XMLHttpRequest}function $(){if(W()&&g(window.MutationObserver))return window.MutationObserver}function Q(){if(W()&&g(window.PerformanceObserver))return window.PerformanceObserver}function Z(){var n=function(){if(W()&&"navigator"in window)return window.navigator}();if(n)return n.connection||n.mozConnection||n.webkitConnection}function nn(){if(!document)return null;if(document.currentScript)return document.currentScript;try{throw new Error}catch(f){var n=0,e=/at\s+(.*)\s+\((.*):(\d*):(\d*)\)/i.exec(f.stack),t=e&&e[2]||!1,r=e&&e[3]||0,o=document.location.href.replace(document.location.hash,""),i="",u=document.getElementsByTagName("script");if(t===o){var a=document.documentElement.outerHTML,c=new RegExp("(?:[^\\n]+?\\n){0,"+(r-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i");i=a.replace(c,"$1").trim()}for(;n<u.length;n++){if("interactive"===u[n].readyState)return u[n];if(u[n].src===t)return u[n];if(t===o&&u[n].innerHTML&&u[n].innerHTML.trim()===i)return u[n]}return null}}function en(n){var e=V();if(!e||!n)return"";var t=e.createElement("a");return t.href=n,t.href}function tn(n){var e=V();if(!e||!n)return{url:n,protocol:"",domain:"",query:"",path:"",hash:""};var t=e.createElement("a");t.href=n;var r=t.pathname||"/";return"/"!==r[0]&&(r="/"+r),{url:t.href,protocol:t.protocol.slice(0,-1),domain:t.hostname,query:t.search.substring(1),path:r,hash:t.hash}}function rn(){var n=W()&&W()&&window.location;return null===n||void 0===n?void 0:n.href}var on=function(n){return{pid:n.pid,view_id:n.viewId,url:rn()}},un=function(n){var e=n.config(),t=on(e);return t.context=n.context?n.context.toString():{},t},an=function(n,e){void 0===e&&(e=!1);var t=un(n);return e&&(t.timestamp=K()),function(e){n.report(r(r({},e),{overrides:t}))}},cn="view_0",fn=function(n){return function(e,t){var o=un(n),i=function(t){var i;t.viewId&&t.viewId!==(null===(i=n.config())||void 0===i?void 0:i.viewId)&&(e(o),o=r(r({},un(n)),on(t)))};n.on("beforeConfig",i),t(function(){n.off("beforeConfig",i)})}},sn="f_view_0",ln=function(n){return function(e,t){var r=un(n);t(s,function(n){r&&n(r)})}},dn=function(n){if(n)return n.__SLARDAR_REGISTRY__||(n.__SLARDAR_REGISTRY__={Slardar:{plugins:[],errors:[],subject:{}}}),n.__SLARDAR_REGISTRY__.Slardar},vn=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=dn(W());t&&(t.errors||(t.errors=[]),t.errors.push(n))},pn=function(n,e){var t=n&&new n(e);return[function(n,e){t&&n&&t.observe(n,e)},function(){return t&&t.disconnect()}]},hn=function(n){var e=n&&n.timing||void 0;return[e,function(){return n&&n.now?n.now():(Date.now?Date.now():+new Date)-(e&&e.navigationStart||0)},function(e){var t=(n||{}).getEntriesByType;return g(t)&&t.call(n,e)||[]},function(){var e=(n||{}).clearResourceTimings;g(e)&&e.call(n)},function(e){var t=(n||{}).getEntriesByName;return g(t)&&t.call(n,e)||[]}]},gn=function(n){return n.requestIdleCallback||function(e){return n.setTimeout(e,1)}},mn=function(n){var e={url:rn(),timestamp:K()},t=n.config();return(null===t||void 0===t?void 0:t.pid)&&(e.pid=t.pid),(null===n||void 0===n?void 0:n.context)&&(e.context=n.context.toString()),e},yn=function(n,e){return function(t){var r=function(n){return n.overrides=e,n};n.on("report",r),t(),n.off("report",r)}};var bn=function(n){var e=!1;return[function(t){e||(e=!0,n&&n(t))}]},_n=function(n){var e=W();if(e){var t=o(bn(n),1)[0];["unload","beforeunload","pagehide"].forEach(function(n){e.addEventListener(n,t)})}},En=function(n,e){var t,r=V();if(r){var o=r.createElement("script");o.src=n,o.crossOrigin="anonymous",o.onload=e,null===(t=r.head)||void 0===t||t.appendChild(o)}},wn=function(n,e){return d(n)?r(r({},e),n):!!n&&e},Sn=function(){return!!btoa&&!!atob};var xn=function(n){try{var e=localStorage.getItem(n),t=e;e&&"string"===typeof e&&(t=JSON.parse((u=e,Sn()?decodeURI(atob(u)):u)));var r=t,o=r.expires,i=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]])}return t}(r,["expires"]);return o>=K()?i:void 0}catch(a){return}var u},Rn=function(n,e,t){var o;if(!(t<=0))try{localStorage.setItem(n,(o=JSON.stringify(r(r({},e),{expires:K()+t})),Sn()?btoa(encodeURI(o)):o))}catch(i){}},On=function(n){return!1===n?0:!0!==n&&void 0!==n&&m(n)?n:7776e6},Tn="xhr_0",jn=function(n){return function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e=o(t,2),this._method=e[0],this._url=e[1],n.apply(this,t)}},Cn=function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._reqHeaders=this._reqHeaders||{};var r=o(e,2),i=r[0],u=r[1];return this._reqHeaders[i]=u,n&&n.apply(this,e)}},In=function(n,e){var t=function(){var n=new RegExp("\\/monitor_web\\/collect|\\/monitor_browser\\/collect\\/batch","i");return function(e){return n.test(e)}}();return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];(this._start=K(),this._data=null===r||void 0===r?void 0:r[0],t(this._url))||function(n,e){return C(n,"onreadystatechange",function(t){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return 4===this.readyState&&e(n),t&&t.apply(this,r)}})}(this,e([this._method,this._url,this._start,this]))();return n.apply(this,r)}},An=function(n){return function(e,t){if(n){var r=[];r.push(C(n,"open",jn)()),r.push(C(n,"setRequestHeader",Cn)()),r.push(C(n,"send",In)(e)),t(function(){r.forEach(function(n){return n()})})}}},Dn=function(n,e){return function(t,r){void 0===r&&(r={});var o=e([t,r]),i=n(t,r);return i.then(function(n){o(n)},function(){o(void 0)}),i}},Ln=["fetch_0",function(n,e){var t=W();if(t&&fetch){var r=[];r.push(C(t,"fetch",Dn)(n)),e(function(){r.forEach(function(n){return n()})})}}],Pn=["resource"],Nn=["longtask"],kn=function(n,e,t){var r=o(function(n,e,t){var o=n&&new n(function(n,r){n.getEntries?n.getEntries().forEach(function(n,t,o){return e(n,t,o,r)}):t&&t()});return[function(e){if(!n||!o)return t&&t();try{o.observe({entryTypes:e})}catch(r){return t&&t()}},function(e){if(!n||!o)return t&&t();try{o.observe({type:e,buffered:!0})}catch(r){return t&&t()}o.observe({type:e,buffered:!1})},function(){return o&&o.disconnect()}]}(n,e),3),i=r[0],u=r[2];return i(t),u},Mn=["longtask_0",function(n,e){var t=Q();t&&e(kn(t,n,Nn))}],qn=["resource_0",function(n,e){var t=Q();t&&e(kn(t,n,Pn))}],Hn="pageview",Bn="http",Un="performance",Fn={sampleRate:1,origins:[]},Gn=function(){var n=window&&(window.crypto||window.msCrypto);if(void 0!==n&&n.getRandomValues){var e=new Uint16Array(8);n.getRandomValues(e);var t=function(n){for(var e=n.toString(16);e.length<4;)e="0"+e;return e};return t(e[0])+t(e[1])+t(e[2])+t(e[3])+t(e[4])+t(e[5])+t(e[6])+t(e[7])}return"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".replace(/[x]/g,function(){return(16*Math.random()|0).toString(16)})},zn=function(n){var e=wn(n,Fn);if(e&&P(e.sampleRate))return function(n,t){var r=e.origins;r.length&&Boolean(n.match(new RegExp(r.join("|"))))&&t("traceparent","03-"+Gn()+"-"+Gn().substring(16)+"-01")}},Xn=new RegExp("(cookie|auth|jwt|token|key|ticket|secret|credential|session|password)","i"),Kn=new RegExp("(bearer|session)","i"),Wn=function(n,e){var t=O(n||[]);return!!t&&t.test(e)},Vn=function(n,e){return!(!n||!e)&&(Xn.test(n)||Kn.test(e))},Jn=function(n,e,t){var r=o(e,2),i=r[0],u=r[1],a=t.setTraceHeader,c=t.ignoreUrls,f=t.setContextAtReq;n.push(i[0](function(n){var e=o(n,4);e[0];var r=e[1];e[2];var i=e[3];if(Wn(c,r))return s;a&&a(r,function(n,e){return i.setRequestHeader(n,e)});var l=f(),d=en(r),v=void 0,p=u()[0](function(n){d===n.name&&!v&&(v=n)});return function(n){var e=Yn(n,t);setTimeout(function(){v&&(e.response.timing=v),l&&l({ev_type:Bn,payload:e}),p()},100)}}))};var Yn=function(n,e){var t,r=n._method,i=n._reqHeaders,u=n._url,a=n._start,c=n._data,f={api:"xhr",request:{url:en(u),method:(r||"").toLowerCase(),headers:i&&(t=i,Object.keys(t).reduce(function(n,e){return!Vn(e,t[e])&&(n[e.toLowerCase()]=t[e]),n},{})),timestamp:a},response:{status:n.status||0,is_custom_error:!1,timestamp:K()},duration:K()-a};"function"===typeof n.getAllResponseHeaders&&(f.response.headers=function(n){return y(n)&&n?n.split("\r\n").reduce(function(n,e){if(y(e)){var t=o(e.split(": "),2),r=t[0],i=t[1];!Vn(r,i)&&(n[r.toLowerCase()]=i)}return n},{}):{}}(n.getAllResponseHeaders()));var s=f.response.status,l=e.collectBodyOnError,d=e.extraExtractor;try{var v=null===d||void 0===d?void 0:d(n.response,f);v&&(f.extra=v),v&&(f.response.is_custom_error=!0),l&&s>=400&&(f.request.body=c?""+c:void 0,f.response.body=n.response?""+n.response:void 0)}catch(p){}return f};function $n(n,e,t){var r,o=null===(r=n.config())||void 0===r?void 0:r.plugins[e];return wn(o,t)}var Qn="ajax",Zn={autoWrap:!0,setContextAtReq:function(){return l},ignoreUrls:[],collectBodyOnError:!1};var ne=function(n,e,t){var r=o(e,2),i=r[0],u=r[1],a=t.setTraceHeader,c=t.ignoreUrls,f=t.setContextAtReq,l=window.Headers,d=window.Request;d&&l&&n.push(i[0](function(n){var e=o(n,2),r=e[0],i=e[1],v=en(r instanceof d?r.url:r);if(!ee(v)||Wn(c,v))return s;a&&a(v,function(n,e){return re(n,e,r,i,d,l)});var p=f(),h=K(),g=void 0,m=u()[0](function(n){v===n.name&&!g&&(g=n)});return function(n){var e=ae(r,i,n,d,l,t,h),o=function(n){var e=!1;return function(t){e||(e=!0,n(t))}}(function(n){g&&(n.response.timing=g),p&&p({ev_type:Bn,payload:n}),m()});setTimeout(function(){o(e)},1e3)}}))},ee=function(n){if(!y(n))return!1;var e=o(n.split(":"),2),t=e[0];return!e[1]||"http"===t||"https"===t},te=function(n,e){return n instanceof e},re=function(n,e,t,o,i,u){var a;te(t,i)?t.headers.set(n,e):o.headers instanceof u?o.headers.set(n,e):o.headers=r(r({},o.headers),((a={})[n]=e,a))},oe=function(n,e,t){var r=e&&e.method||"get";return te(n,t)&&(r=n.method||r),r.toLowerCase()},ie=function(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];try{return e.reduce(function(e,t){return new n(t||{}).forEach(function(n,t){return!Vn(t,n)&&(e[t]=n)}),e},{})}catch(r){return{}}},ue=function(n,e,t){return te(n,t)?n.body:null===e||void 0===e?void 0:e.body},ae=function(n,e,t,r,o,i,u){var a,c,f={api:"fetch",request:{method:oe(n,e,r),timestamp:u,url:en(n instanceof r?n.url:n),headers:ie(o,n.headers,e.headers)},response:{status:t&&t.status||0,is_custom_error:!1,timestamp:K()},duration:K()-u},l=i.collectBodyOnError,d=i.extraExtractor;if(t)try{f.response.headers=ie(o,t.headers);try{d&&t.clone().json().then(function(n){var e=d(n,f);e&&(f.extra=e,f.response.is_custom_error=!0)}).catch(s)}catch(v){}l&&t.status>=400&&(f.request.body=null===(a=ue(n,e,r))||void 0===a?void 0:a.toString())}catch(p){}else l&&(f.request.body=null===(c=ue(n,e,r))||void 0===c?void 0:c.toString());return f},ce="fetch",fe={autoWrap:!0,setContextAtReq:function(){return l},ignoreUrls:[],collectBodyOnError:!1};var se=["name","message","stack","filename","lineno","colno"],le=function(n){var e,t,r,o;return!function(n){switch(Object.prototype.toString.call(n)){case"[object Error]":case"[object Exception]":case"[object DOMError]":case"[object DOMException]":return!0;default:return n instanceof Error}}(n)?(p(n)||(o=n,"undefined"!==typeof Event&&function(n,e){try{return n instanceof e}catch(t){return!1}}(o,Event))||y(n))&&(e={message:T(n)}):(r=se,e=(t=n)&&d(t)?r.reduce(function(n,e){return n[e]=t[e],n},{}):t),e},de=function(n){return e=n,"[object ErrorEvent]"===Object.prototype.toString.call(e)?le(n.error):function(n){return"[object PromiseRejectionEvent]"===Object.prototype.toString.call(n)}(n)?function(n){var e;try{var t=void 0;if("reason"in n?t=n.reason:"detail"in n&&"reason"in n.detail&&(t=n.detail.reason),t){var o=le(t);return r(r({},o),{name:null!==(e=o&&o.name)&&void 0!==e?e:"UnhandledRejection"})}}catch(i){}}(n):le(n);var e},ve=["hash_0",function(n,e){var t=W();if(t){var r=function(){return n(location.href)};t.addEventListener("hashchange",r,!0),e(function(){return t.removeEventListener("hashchange",r,!0)})}}],pe=["history_0",function(n,e){var t=W()&&window.history;if(t){var r=[],o=function(){return n(location.href)},i=function(n){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];try{n.apply(t,e)}finally{o()}}};r.push(j(t,"pushState",i)(),j(t,"replaceState",i)()),window.addEventListener("popstate",o,!0),r.push(function(){return window.removeEventListener("popstate",o,!0)}),e(function(){r.forEach(function(n){return n()})})}}],he=function(n){return function(e,t){n(function(n,e){return{ev_type:Hn,payload:{pid:e,source:n}}}(e,t))}},ge=function(n){return"manual"===n},me=function(n,e,t,r){var i=r.sendInit,u=r.initPid,a=r.routeMode,c=r.extractPid,f=r.onPidUpdate,s=ge(a)?function(){return""}:function(n){return function(e){var t;return"hash"===n?(null===(t=tn(e).hash)||void 0===t?void 0:t.replace(/^#/,""))||"/":tn(e).path}}(a),l=c||function(){},d=o(function(n,e,t,r){var o=t,i=e;r&&r(e);return[function(e,t,u){"user_set"!==e&&t!==o?(o=t,i=null!==u&&void 0!==u?u:o,r&&r(i),n(e,i)):"user_set"===e&&t!==i&&(i=t,r&&r(i),n(e,i))},function(){e&&n("init",e)}]}(he(n),u||function(n){var e;return null!==(e=l(n))&&void 0!==e?e:s(n)}(location.href),s(location.href),f),2),v=d[0],p=d[1];if(!ge(a)){var h=o(function(n,e){var t=e;return[function(e,r){r!==t&&n(e,t=r)}]}(function(n,e){return v(n,s(e),l(e))},""),1)[0];t.length&&t.forEach(function(n){return e.push(n[0](function(n){return h(a,n)}))})}return i&&p(),[v.bind(null,"user_set")]},ye="pageview",be={sendInit:!0,routeMode:"history"};var _e=["hidden_0",function(n,e){var t=W(),r=V();if(t&&r){var o=function(){"hidden"===r.visibilityState&&n()};addEventListener("visibilitychange",o,!0);var i=gn(t);e(function(){removeEventListener("visibilitychange",o,!0)},function(n){"hidden"===r.visibilityState&&i(function(){n()})})}}],Ee=["load_0",function(n,e){var t=W(),r=V();if(t&&r){var o=function(){setTimeout(function(){n()},0)};t.addEventListener("load",o,!1);var i=gn(t);e(function(){t.removeEventListener("load",o,!1)},function(n){"complete"===r.readyState&&i(function(){n()})})}}],we=["unload_0",function(n,e){var t=W();if(t){var r=o(bn(n),1)[0],i=["unload","beforeunload","pagehide"],u=function(){r()};i.forEach(function(n){t.addEventListener(n,u)}),e(function(){i.forEach(function(n){t.removeEventListener(n,u)})})}}],Se={isSupport:!0,isPolyfill:!1,isBounced:!1,isCustom:!1,type:"perf"},xe=function(n,e){return r({name:n,value:e},Se)},Re=function(n,e,t){var r=!1;return function(o){t.length&&t.forEach(function(n){n()}),t.length=0,r||(r=!0,e&&e(n(o)))}},Oe=function(n,e){return{ev_type:Un,payload:n,overrides:e}},Te="first-paint",je=function(n,e,t,r,i){var u=o(i,2),a=u[0],c=u[1],f=Q(),s=J(),l=xe(e,0),d=Re(Oe,t,r);if(!s||!f)return l.isSupport=!1,void d(l);var v=function(n){var e=n.startTime;l.value=e,d(l)},p=(0,o(hn(s),5)[4])(n)[0];p?v(p):(r.push(kn(f,function(e){e.name===n&&v(e)},["paint"])),r.push(a[0](function(){l.isSupport=!1,d(l)})),r.push(c[0](function(){l.isBounced=!0,d(l)})))},Ce=function(n){var e=n||{},t=e.domContentLoadedEventEnd,r=e.navigationStart;return t?t-(void 0===r?0:r):null},Ie=function(n,e){var t=n.startTime,r=n.duration;n.start=t,n.end=t+r,e.push(n)},Ae=function(n,e,t){var r=o(e,5),i=r[0],u=r[1],a=r[2],c=r[3],f=r[4];return function(e,r){var l=[],d=[],v=o(function(){var n={};return[n,function(e,t){return n[e]=t},function(e){return delete n[e]}]}(),3),p=v[0],h=v[1],g=v[2];t.forEach(function(n){n.entryType===Nn[0]&&Ie(n,l)});var m=0;n.push(i[0](function(n){if("get"!==(o(n,1)[0]||"").toLowerCase())return s;var e=m+=1;return h(e,K()),function(){g(e)}})),n.push(u[0](function(n){var e=o(n,2),t=e[0],r=e[1];if(!window.Request||"get"!==oe(t,r,window.Request))return s;var i=m+=1;return h(i,K()),function(){g(i)}}));var y=o(f&&function(n,e){var t=["img","script","iframe","link","audio","video","source"];function r(n,e){for(var t=0;t<n.length;t++)if(w(e,n[t].nodeName.toLowerCase())||n[t].children&&r(n[t].children,e))return!0;return!1}var i=o(pn(n,function(n){for(var o=0;o<n.length;o++)("childList"===n[o].type&&r(n[o].addedNodes,t)||"attributes"===n[o].type&&w(t,n[o].target.nodeName.toLowerCase()))&&e(n[o])}),2),u=i[0];return[function(){return u(document,{attributes:!0,childList:!0,subtree:!0,attributeFilter:["href","src"]})},i[1]]}(f,function(){return e(r()+5e3)})||[],2),b=y[0],_=y[1];b&&b();var E=function(){return function(n,e,t){if(n.length>2)return t();for(var r=[],i=0;i<e.length;i++)r.push([e[i].start,0],[e[i].end,1]);for(i=0;i<n.length;i++)r.push([n[i],0]);r.sort(function(n,e){return n[0]-e[0]});var u=n.length;for(i=r.length-1;i>=0;i--){var a=o(r[i],2),c=a[0];switch(a[1]){case 0:u--;break;case 1:if(++u>2)return c}}return 0}(function(n){for(var e=Object.keys(n),t=[],r=0;r<e.length;r++){var o=n[e[r]];"number"===typeof o&&t.push(o)}return t}(p),d,r)};return _&&n.push(_),n.push(a[0](function(n){Ie(n,l);var t=n.startTime,r=n.duration;e(t+r+5e3)})),n.push(c[0](function(n){var t=n.fetchStart,r=n.responseEnd;d.push({start:t,end:r}),e(E()+5e3)})),n.push(function(){l.length=0,d.length=0}),[l,E]}},De=function(n,e,t,r){var i=o(t,5),u=i[0],a=i[1],c=i[2],f=i[3],s=i[4],l=xe("tti",0),d=Re(Oe,n,e),v=J(),p=r||{},h=p.entries,g=void 0===h?[]:h,m=p.observer;if(e.push(function(){m&&m.disconnect(),g.length=0}),!window||!XMLHttpRequest||!v||!PerformanceObserver||PerformanceObserver.supportedEntryTypes&&!w(PerformanceObserver.supportedEntryTypes||[],Nn[0]))return l.isSupport=!1,void d(l);var y=o(hn(v),5),b=y[0],_=y[1],E=y[4],S=o(function(n){var e,t=-1/0,r=void 0,o=function(){return window.clearTimeout(r)},i=function(i){t>i||!e||(o(),r=window.setTimeout(e,i-n()),t=i)};return[function(n,t){e=n,i(t)},function(){o(),e=void 0},i]}(_),3),x=S[0],R=S[1],O=S[2],T=o(Ae(e,[u,a,c,f,$()],g)(O,_),2),j=T[0],C=T[1];e.push(R);var I=function(n){var e=E("first-contentful-paint")[0],t=function(n,e,t,r,o){if(r-t<5e3)return null;var i=0===o.length?n:o[o.length-1].end;return r-i<5e3?null:Math.max(i,e)}((e?e.startTime:Ce(b))||0,Ce(b)||0,C(),_(),j);if(!t)return O(_()+1e3);n(t)},A=function(n){l.value=n,d(l)},D=j[j.length-1];x(function(){return I(A)},Math.max(C()+5e3,D?D.end:0)),e.push(s[0](function(){l.isSupport=!1,d(l)}))},Le="tti";var Pe=["SCRIPT","STYLE","META","HEAD"],Ne=function n(e,t,r,o){if(!e||o.indexOf(e.tagName)>-1)return 0;var i=e.children,u=void 0===i?[]:i,a=[].slice.call(u).reduceRight(function(e,r){return e+n(r,t+1,e>0,o)},0);if(a<=0&&!r){if(!g(e.getBoundingClientRect))return 0;var c=e.getBoundingClientRect()||{},f=c.top,s=c.height;if(f>window.innerHeight||s<=0)return 0}return a+1+.5*t},ke=function(n,e,t){var r=o(t,2),i=r[0],u=r[1],a=V(),c=$(),f=J(),l=f&&f.timing&&f.timing.navigationStart||void 0,d=xe("fmp",0),v=Re(Oe,n,e);if(!a||!c||!l)return d.isSupport=!1,void v(d);var p=K(),h=[],m=function(){return h.push({time:K()-p,score:Ne(a&&a.body,1,!1,Pe)})},y=function(){if(W()&&"requestAnimationFrame"in window)return window.requestAnimationFrame}(),b=function(){if(W()&&"cancelAnimationFrame"in window)return window.cancelAnimationFrame}(),_=o(function(n,e,t,r){var o,i=!g(e)||r&&n&&n.hidden?function(n){return n(0),0}:e,u=g(t)?t:s;return[function(n){o&&u(o),o=i(n)},i,u]}(a,y,b,!0),1)[0],E=o(pn(c,function(){return _(m)}),2),w=E[0],S=E[1],x=function(n){void 0===n&&(n=0);var e=function(n){var e=o(void 0===n?[]:n),t=e[0],r=e.slice(1);return r&&r.reduce(function(n,e){var t=o(n,2),r=t[0],i=t[1],u=e.score-r.score;return[e,e.time>=r.time&&i.rate<u?{time:e.time,rate:u}:i]},[t,{time:null===t||void 0===t?void 0:t.time,rate:0}])[1].time||0}(h);d.value=e?e+n:0,v(d),h.length=0},R=p-(l||0);w(a,{subtree:!0,childList:!0}),e.push(S),e.push(u[0](function(){d.isSupport=!1,v(d)})),e.push(i[0](function(){setTimeout(function(){x(R)},200)}))},Me="fmp",qe={renderType:"CSR"};var He=function(n){n.provide("sendEvent",function(e){var t=function(n){if(n&&d(n)&&n.name&&y(n.name)){var e={name:n.name,type:"event"};if("metrics"in n&&d(n.metrics)){var t=n.metrics,r={};for(var o in t)m(t[o])&&(r[o]=t[o]);e.metrics=r}if("categories"in n&&d(n.categories)){var i=n.categories,u={};for(var o in i)u[o]=T(i[o]);e.categories=u}return e}}(e);t&&n.report({ev_type:"custom",payload:t,extra:{timestamp:K()}})}),n.provide("sendLog",function(e){var t=function(n){if(n&&d(n)&&n.content&&y(n.content)){var e={content:T(n.content),type:"log",level:"info"};if("level"in n&&(e.level=n.level),"extra"in n&&d(n.extra)){var t=n.extra,r={},o={};for(var i in t)m(t[i])?r[i]=t[i]:o[i]=T(t[i]);e.metrics=r,e.categories=o}return e}}(e);t&&n.report({ev_type:"custom",payload:t,extra:{timestamp:K()}})})};function Be(n){return(null===n||void 0===n?void 0:n.effectiveType)||(null===n||void 0===n?void 0:n.type)||""}var Ue=function(n,e){var t=n.common||{};return t.sample_rate=e,n.common=t,n},Fe=function(n,e,t,r,o){return n?(i=o(r,e),function(){return i}):function(){return t(e)};var i},Ge=function(n,e,t,r){var o=x(n,e,function(n,e){return n[e]});return void 0!==o&&function(n,e,t){switch(t){case"eq":return w(e,n);case"neq":return!w(e,n);case"gt":return n>e[0];case"gte":return n>=e[0];case"lt":return n<e[0];case"lte":return n<=e[0];case"regex":return Boolean(n.match(new RegExp(e.join("|"))));case"not_regex":return!n.match(new RegExp(e.join("|")));default:return!1}}(o,function(n,e){return n.map(function(n){switch(e){case"number":return Number(n);case"boolean":return"1"===n;case"string":default:return String(n)}})}(r,"boolean"===typeof o?"bool":m(o)?"number":"string"),t)},ze=function n(e,t){try{return"rule"===t.type?Ge(e,t.field,t.op,t.values):"and"===t.type?t.children.every(function(t){return n(e,t)}):t.children.some(function(t){return n(e,t)})}catch(r){return vn(r),!1}},Xe=function(n,e,t,r,o){if(!e)return l;var i=e.sample_rate,u=e.include_users,a=e.sample_granularity,c=e.rules,f=e.r,s=void 0===f?Math.random():f;if(w(u,n))return function(n){return Ue(n,1)};var d="session"===a,v=Fe(d,i,t,s,r),p=function(n,e,t,r,o,i){var u={};return Object.keys(n).forEach(function(a){var c=n[a],f=c.enable,s=c.sample_rate,l=c.conditional_sample_rules;f?(u[a]={enable:f,sample_rate:s,effectiveSampleRate:s*t,hit:Fe(e,s,r,o,i)},l&&(u[a].conditional_hit_rules=l.map(function(n){var u=n.sample_rate,a=n.filter;return{sample_rate:u,hit:Fe(e,u,r,o,i),effectiveSampleRate:u*t,filter:a}}))):u[a]={enable:f,hit:function(){return!1},sample_rate:0,effectiveSampleRate:0}}),u}(c,d,i,t,s,r);return function(n){var e;if(!v())return d&&o[0](),!1;if(!(n.ev_type in p))return Ue(n,i);if(!p[n.ev_type].enable)return d&&o[1](n.ev_type),!1;if(null===(e=n.common)||void 0===e?void 0:e.sample_rate)return n;var t=p[n.ev_type],r=t.conditional_hit_rules;if(r)for(var u=0;u<r.length;u++)if(ze(n,r[u].filter))return!!r[u].hit()&&Ue(n,r[u].effectiveSampleRate);return t.hit()?Ue(n,t.effectiveSampleRate):(d&&o[1](n.ev_type),!1)}},Ke=function(){var n=W();return n&&n.navigator.sendBeacon?{get:function(){},post:function(e,t){n.navigator.sendBeacon(e,t)}}:{get:s,post:s}},We=function(n,e,t){var r=e.url,o=e.data,i=e.success,u=void 0===i?s:i,a=e.fail,c=void 0===a?s:a,f=e.getResponseText,l=void 0===f?s:f,d=e.withCredentials,v=void 0!==d&&d,p=new t;p.withCredentials=v,p.open(n,r,!0),p.setRequestHeader("Content-Type","application/json"),p.onload=function(){null===l||void 0===l||l(this.responseText);try{if(this.responseText){var n=JSON.parse(this.responseText);u(n)}else u({})}catch(e){c(e)}},p.onerror=function(){c(new Error("Network request failed"))},p.onabort=function(){c(new Error("Network request aborted"))},p.send(o)},Ve=function(){var n=Y();return n?{get:function(e){We("GET",e,n)},post:function(e){We("POST",e,n)}}:{get:s,post:s}};function Je(n){var e=function(n){var e,t=n.transport,r=n.endpoint,o=n.size,i=void 0===o?u:o,f=n.wait,s=void 0===f?a:f,l=[],d=0;function v(){if(l.length){var n=this.getBatchData();t.post({url:r,data:n,fail:function(t){e&&e(t,n)}}),l=[]}}return{getSize:function(){return i},getWait:function(){return s},setSize:function(n){i=n},setWait:function(n){s=n},getEndpoint:function(){return r},setEndpoint:function(n){r=n},send:function(n){l.push(n),l.length>=i&&v.call(this),clearTimeout(d),d=setTimeout(v.bind(this),s)},flush:function(){clearTimeout(d),v.call(this)},getBatchData:function(){return l.length?c(l):""},clear:function(){clearTimeout(d),l=[]},fail:function(n){e=n}}}(n),t=Ke(),r=function(n){t.post(e.getEndpoint(),c([n]))};return _n(function(){var n=e.getBatchData();n&&(t.post(e.getEndpoint(),n),e.clear()),e.send=r}),e}var Ye="https://lf16-cdn-tos.tiktokcdn-us.com/obj/static-tx/slardar/fe/sdk-web/plugins",$e="1.7.0",Qe="/monitor_web/settings/browser-settings",Ze=["/log/sentry/","/monitor_browser/collect/batch/",Qe],nt="session",et={sample_rate:1,include_users:[],sample_granularity:nt,rules:{}},tt="";function rt(n,e,t){void 0===t&&(t=ot),function(n){var e=W(),t=V();e&&t&&("complete"!==t.readyState?e.addEventListener("load",function(){setTimeout(function(){n()},0)},!1):n())}(function(){n.on("init",function(){t(n,e)})})}function ot(n,e,t){void 0===t&&(t=it);var r=n.config(),o=r.plugins,i=r.pluginBundle;Object.keys(o).forEach(function(r){o[r]&&(i&&w(i.plugins,r)?t(n,i,e):t(n,{name:r,config:o[r]},e))})}function it(n,e,t,r){var o=e.name,i=e.plugins,u=e.config;(void 0===r&&(r=En),function(n,e){return w(n.loaded,e)||w(n.loading,e)}(n,o))||(n.loading.push(o),r(function(n,e,t){var r;return null!==(r=null===t||void 0===t?void 0:t.path)&&void 0!==r?r:n.config().pluginPathPrefix+"/"+R(e)+"."+$e+"."+tt+"js"}(n,o,u),function(){w(n.loaded,o)||(i?i.forEach(function(e){w(n.loaded,e)||ut(n,e,t)}):ut(n,o,t))}))}function ut(n,e,t){if(void 0===t&&(t=dn(W())),t){var r=at(t,e);if(r)try{r.apply(n),n.loaded.push(e)}catch(o){vn(o),L("[loader].applyPlugin failed",e,o)}else L("[loader].applyPlugin not found",e)}}function at(n,e){return n.plugins.filter(function(n){return n.name===e&&n.version===$e})[0]}function ct(n){var e=n.plugins||{};for(var t in e)e[t]&&!d(e[t])&&(e[t]={});return r(r({},n),{plugins:e})}function ft(n){return d(n)&&"bid"in n}function st(n){return r({},n)}function lt(n){var e;if(!n)return{};var t=n.sample,r=n.plugins,o=n.timestamp,i=n.quota_rate,u=void 0===i?1:i;if(!t)return{};var a=t.sample_rate,c=t.sample_granularity,f=void 0===c?nt:c,s=t.include_users,l=t.rules;return{sample:{include_users:s,sample_rate:a*u,sample_granularity:f,rules:(void 0===l?[]:l).reduce(function(n,e){var t=e.name,r=e.enable,o=e.sample_rate,i=e.conditional_sample_rules;return n[t]={enable:r,sample_rate:o,conditional_sample_rules:i},n},{})},plugins:{heatmap:null!==(e=null===r||void 0===r?void 0:r.heatmap)&&void 0!==e&&e},serverTimestamp:o}}var dt=function(n,e){return void 0===e&&(e="/monitor_browser/collect/batch/"),(n&&n.indexOf("//")>=0?"":"https://")+n+e},vt=function(n,e){return void 0===e&&(e=Qe),(n&&n.indexOf("//")>=0?"":"https://")+n+e},pt=function(n){return n+"_"+K()},ht=function(){return M()},gt=function(n){var e=[];return n.observe=function(n){e.push(n)},n.push=function(){for(var t,r=[],u=0;u<arguments.length;u++)r[u]=arguments[u];return r.forEach(function(n){e.forEach(function(e){return e(n)})}),(t=[].push).call.apply(t,i([n],o(r),!1))},n},mt=function(){var n,e,t,r=W(),o=V();if(r&&o)return(null===(t=null===(e=null===(n=nn())||void 0===n?void 0:n.getAttribute("src"))||void 0===e?void 0:e.match(/globalName=(.+)$/))||void 0===t?void 0:t[1])||"Slardar"},yt=function(n){return"SLARDAR"+n},bt=function(n,e){var t=localStorage.getItem(n);if(t&&Sn()&&"{"===t[0])try{Rn(n,JSON.parse(t),e)}catch(A){}},_t=function(n,e){void 0===n&&(n="");var t={userId:M(),deviceId:M()};if(e<=0)return t;var r=yt(n);return bt(r,e),xn(r)||t},Et=function(n){var e=n.bid,t=n.userId,r=n.deviceId,o=n.storageExpires,i=yt(e);Rn(i,{userId:t,deviceId:r},On(o))},wt={get:function(){return this.__SLARDAR__REPALCE__HOLDER__}},St=function(n){var e,t,o=n,i={},u=wt.get(),a=s,c=s;return{getConfig:function(){return o},setConfig:function(n){return i=r(r({},i),n||{}),f(),e||(e=n,o.useLocalConfig||!o.bid?(t={},a()):u?l():xt(o.transport,o.domain,o.bid,function(n){u=n,l()})),o},onChange:function(n){c=n},onReady:function(n){a=function(){Et(o),n()},t&&a()}};function f(){var e=r(r(r({},n),t||{}),i);e.plugins=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var t={},r=0;r<n.length;)t=_(t,n[r++]);return t}(n.plugins,(null===t||void 0===t?void 0:t.plugins)||{},i.plugins||{}),e.sample=Rt(Rt(n.sample,null===t||void 0===t?void 0:t.sample),i.sample),o=e,c()}function l(){t=lt(u),f(),a()}};function xt(n,e,t,r){n.get({withCredentials:!0,url:vt(e)+"?bid="+t+"&store=1",success:function(n){r(n.data||{})},fail:function(){r({sample:{sample_rate:.001}})}})}function Rt(n,e){if(!n||!e)return n||e;var t=r(r({},n),e);return t.include_users=i(i([],o(n.include_users||[]),!1),o(e.include_users||[]),!1),t.rules=i(i([],o(Object.keys(n.rules||{})),!1),o(Object.keys(e.rules||{})),!1).reduce(function(t,u){var a,c;return u in t||(u in(n.rules||{})&&u in(e.rules||{})?(t[u]=r(r({},n.rules[u]),e.rules[u]),t[u].conditional_sample_rules=i(i([],o(n.rules[u].conditional_sample_rules||[]),!1),o(e.rules[u].conditional_sample_rules||[]),!1)):t[u]=(null===(a=n.rules)||void 0===a?void 0:a[u])||(null===(c=e.rules)||void 0===c?void 0:c[u])),t},{}),t}var Ot={build:function(n){return{ev_type:n.ev_type,payload:n.payload,common:r(r({},n.extra||{}),n.overrides||{})}}},Tt=function(n){var e={url:rn(),timestamp:K(),sdk_version:$e,sdk_name:"SDK_SLARDAR_WEB"};return r(r({},n),{extra:r(r({},e),n.extra||{})})},jt=function(n){n.on("report",function(n){return Tt(n)})},Ct={sri:"reportSri",st:"reportResourceError",err:"captureException",reject:"captureException"},It=function(n){return Object.keys(n).reduce(function(n,e){return n[e]=[],n},{})},At=function(n){return Object.keys(n).reduce(function(e,t){return e[n[t]]?e[n[t]].push(t):e[n[t]]=[t],e},{})},Dt=function(n,e,t){return function(o,i,u,a){var c;void 0===u&&(u=K()),void 0===a&&(a=location.href);var f=r(r({},mn(n)),{url:a,timestamp:u});e[o]&&(n[t[o]]?yn(n,f)(function(){n[t[o]](i)}):null===(c=e[o])||void 0===c||c.push([i,f]))}},Lt=function(n,e,t){return function(r){r in t&&t[r].forEach(function(t){var i;null===(i=e[t])||void 0===i||i.forEach(function(e){var t=o(e,2),i=t[0],u=t[1];yn(n,u)(function(){n[r](i)})}),e[t]=null})}},Pt=function(n,e){return"err"===e?!1!==x(n,"plugins.jsError.onerror",function(n,e){return n[e]}):"reject"!==e||!1!==x(n,"plugins.jsError.onunhandledrejection",function(n,e){return n[e]})},Nt=function(n,e){var t;void 0===e&&(e=Ct);var r=It(e),i=At(e),u=Dt(n,r,e);(null===(t=n.p)||void 0===t?void 0:t.a)&&"observe"in n.p.a&&n.p.a.observe(function(e){var t=o(e,5);t[0];var r=t[1],i=t[2],a=t[3],c=t[4],f=n.config();Pt(f,r)&&u(r,i,a,c)}),n.on("init",function(){var e,t=n.config();null===(e=n.p)||void 0===e||e.a.forEach(function(n){var e=o(n,5);e[0];var r=e[1],i=e[2],a=e[3],c=e[4];Pt(t,r)&&u(r,i,a,c)}),n.p&&n.p.a&&(n.p.a.length=0),n.provide("precollect",function(n,e,r,o){void 0===r&&(r=K()),void 0===o&&(o=location.href),Pt(t,n)&&u(n,e,r,o)})}),n.on("provide",Lt(n,r,i))},kt=function(n){var e=o(n,2),t=e[0],r=e[1];return{ev_type:"js_error",payload:{error:de(t),breadcrumbs:[],extra:r||{}},extra:{bid:"slardar_sdk"}}},Mt=function(n,e){void 0===e&&(e=.001);var t=dn(W());t&&(t.errors||(t.errors=[]),"observe"in t.errors||P(e)&&(t.errors=gt(t.errors),t.errors.forEach(function(e){n.report(kt(e))}),t.errors.observe(function(e){n.report(kt(e))})))},qt=function(n){var e,t=!1;n.on("init",function(){e=(new Date).getTime(),n.on("config",function(){var o,i=null===(o=n.config())||void 0===o?void 0:o.serverTimestamp;if(!(isNaN(i)||Number(i)<=0||t)){t=!0;var u=(new Date).getTime();if(u-e<700&&i){var a=i-(u+e)/2;!isNaN(a)&&(a>0||a<-6e5)&&n.on("beforeBuild",function(n){var e;return r(r({},n),{extra:r(r({},null!==(e=n.extra)&&void 0!==e?e:{}),{sdk_offset:null!==a&&void 0!==a?a:0})})})}}})})},Ht=function(n,e){var t={};return t.bid=e.bid,t.pid=e.pid,t.view_id=e.viewId,t.user_id=e.userId,t.device_id=e.deviceId,t.session_id=e.sessionId,t.release=e.release,t.env=e.env,r(r({},n),{extra:r(r({},t),n.extra||{})})},Bt=function(n){n.on("beforeBuild",function(e){return Ht(e,n.config())})},Ut=function(n){n.on("start",function(){var e=n.config().bid,t=n.getSender();t.setEndpoint(t.getEndpoint()+"?biz_id="+e)})},Ft=function(n){var e=On(n.storageExpires),t=_t(n.bid,e);return{bid:"",pid:"",viewId:pt("_"),userId:t.userId,deviceId:t.deviceId,storageExpires:e,sessionId:ht(),domain:"mon.us.tiktokv.com",pluginBundle:{name:"commonMonitors",plugins:["breadcrumb","jsError","performance","resourceError","resource"]},pluginPathPrefix:Ye,plugins:{ajax:{ignoreUrls:Ze},fetch:{ignoreUrls:Ze},breadcrumb:{},pageview:{},jsError:{},resource:{},resourceError:{},performance:{},tti:{},fmp:{},blankScreen:!1,heatmap:!1},release:"",env:"production",sample:et,transport:Ve()}},Gt=function(n){var e=void 0===n?{}:n,t=e.createSender,u=void 0===t?function(n){return Je({size:20,endpoint:dt(n.domain),transport:n.transport})}:t,a=e.builder,c=void 0===a?Ot:a,f=e.createDefaultConfig,s=U({validateInitConfig:ft,initConfigNormalizer:ct,userConfigNormalizer:st,createSender:u,builder:c,createDefaultConfig:void 0===f?Ft:f,createConfigManager:St});s.loaded=[],s.loading=[],Mt(s),F(s);var l=dn(W());!function(n,e){var t=e||{};n.provide("initSubject",function(n){var e=o(n,2),r=e[0],i=e[1];return t[r]||(t[r]=H(i,function(){t[r]=void 0})),t[r]}),n.provide("getSubject",function(n){return t[n]}),n.provide("privateSubject",{})}(s,l&&l.subject),qt(s),Bt(s),jt(s),function(n){var e=Z(),t=Be(e);e&&(e.onchange=function(){t=Be(e)}),n.on("report",function(n){return r(r({},n),{extra:r(r({},n.extra||{}),{network_type:t})})})}(s),Ut(s);var d=G(s,mn,function(n,e,t){return yn(n,e)(function(){var n=o(t),e=n[0],r=n.slice(1);s[e].apply(s,i([],o(r),!1))})});return function(n){n.on("init",function(){var e=[],t=n.config();t&&t.integrations&&t.integrations.forEach(function(t){w(e,t.name)||(e.push(t.name),t.setup(n),t.tearDown&&n.on("beforeDestroy",t.tearDown))})})}(d),d},zt=function(n){void 0===n&&(n={});var e=Gt(n);return e.loaded.push("heatmap"),rt(e),function(n){n.on("start",function(){var e=n.config(),t=e.userId,r=e.sample,o=Xe(t,r,P,N,[function(){n.destroy()},function(e){n.destroyAgent.removeByEvType(e)}]);n.on("build",o)})}(e),Nt(e),He(e),function(n){n.on("init",function(){var e,t=$n(n,ye,be);if(t&&location){var i=[],u=t.routeMode,a=o(me(n.report.bind(n),i,ge(u)?[]:[n.initSubject(ve),n.initSubject(pe)],r(r({},t),{initPid:null===(e=n.config())||void 0===e?void 0:e.pid,onPidUpdate:function(e){n.set({pid:e,viewId:e+"_"+K(),actionId:void 0})}})),1)[0];X(n,[sn,ln(n)],-1),n.on("config",function(){a(n.config().pid)}),B(n,ye,Hn,i),n.provide("sendPageview",a)}})}(e),e.loaded.push(ye),function(n){n.on("init",function(){var e=$n(n,Qn,Zn);if(e){var t=[],o=r(r({},e),{setContextAtReq:function(){return an(n,!0)},setTraceHeader:zn(e.trace)}),i=function(){return z(n,qn)};o.autoWrap&&Jn(t,[z(n,[Tn,An(XMLHttpRequest&&XMLHttpRequest.prototype)]),i],o),B(n,Qn,Bn,t),n.provide("wrapXhr",function(n){function e(){var e=new n;return Jn(t,[H(An(e)),i],o),e}return e.prototype=new n,["DONE","HEADERS_RECIEVED","LOADING","OPENED","UNSENT"].forEach(function(t){e[t]=n[t]}),e})}})}(e),e.loaded.push(Qn),function(n){n.on("init",function(){var e=$n(n,ce,fe);if(e){var t=[],o=r(r({},e),{setContextAtReq:function(){return an(n,!0)},setTraceHeader:zn(e.trace)}),i=function(){return z(n,qn)};o.autoWrap&&ne(t,[z(n,Ln),i],o),B(n,ce,Bn,t),n.provide("wrapFetch",function(n){var e=void 0;return ne(t,[H(function(t){e=Dn(n,t)}),i],o),e})}})}(e),e.loaded.push(ce),function(n){n.on("init",function(){if($n(n,Le,{})){var e=[];De(an(n),e,[z(n,[Tn,An(XMLHttpRequest&&XMLHttpRequest.prototype)]),z(n,Ln),z(n,Mn),z(n,qn),X(n,[cn,fn(n)])],n.pp),B(n,Le,Un,e)}})}(e),e.loaded.push(Le),function(n){n.on("init",function(){var e=$n(n,Me,qe);if(e){var t=[],r=z(n,Ee);"SSR"===e.renderType?je(Te,Me,an(n),t,[z(n,_e),z(n,we)]):ke(an(n),t,[r,X(n,[cn,fn(n)])]),B(n,Me,Un,t)}})}(e),e.loaded.push(Me),e},Xt="precollect",Kt=3e5;var Wt=zt(),Vt=W();Vt&&function(n,e){"addEventListener"in n&&(e.pcErr=function(t){var r=(t=t||n.event).target||t.srcElement||{};r instanceof Element||r instanceof HTMLElement?e(Xt,"st",{tagName:r.tagName,url:r.getAttribute("href")||r.getAttribute("src")}):e(Xt,"err",t.error)},e.pcRej=function(t){t=t||n.event,e(Xt,"reject",t.reason||t.detail&&t.detail.reason)},n.addEventListener("error",e.pcErr,!0),n.addEventListener("unhandledrejection",e.pcRej,!0),setTimeout(function(){n.removeEventListener("error",e.pcErr,!0),n.removeEventListener("unhandledrejection",e.pcRej,!0)},Kt)),"PerformanceObserver"in n&&"PerformanceLongTaskTiming"in n&&(e.pp={entries:[]},e.pp.observer=new PerformanceObserver(function(n){e.pp.entries=e.pp.entries.concat(n.getEntries())}),e.pp.observer.observe({entryTypes:["longtask","largest-contentful-paint","layout-shift"]}),setTimeout(function(){e.pp.observer.disconnect()},Kt))}(Vt,Wt),e.BATCH_REPORT_PATH="/monitor_browser/collect/batch/",e.DEFAULT_IGNORE_PATHS=Ze,e.DEFAULT_SAMPLE_CONFIG=et,e.DEFAULT_SAMPLE_GRANULARITY=nt,e.DEFAULT_SENDER_SIZE=20,e.DEVICE_ID_COOKIE_NAME="MONITOR_DEVICE_ID",e.EV_METHOD_MAP=Ct,e.InjectConfigPlugin=Bt,e.InjectEnvPlugin=jt,e.InjectQueryPlugin=Ut,e.ObserveErrorPlugin=Mt,e.PLUGINS_LOAD_PREFIX=Ye,e.PrecollectPlugin=Nt,e.REPORT_DOMAIN="mon.us.tiktokv.com",e.SDK_NAME="SDK_SLARDAR_WEB",e.SDK_VERSION=$e,e.SETTINGS_DOMAIN="mon.us.tiktokv.com",e.SETTINGS_PATH=Qe,e.STORAGE_PREFIX="SLARDAR",e.TimeCalibrationPlugin=qt,e.USER_ID_COOKIE_NAME="MONITOR_WEB_ID",e.addConfigToReportEvent=Ht,e.addEnvToSendEvent=Tt,e.applyPlugin=ut,e.browserBuilder=Ot,e.buildSelfErrorEvent=kt,e.configHolder=wt,e.createBrowserClient=zt,e.createBrowserConfigManager=St,e.createMinimalBrowserClient=Gt,e.createStore=It,e.default=Wt,e.filterIfPluginDisabled=Pt,e.getConsumeStored=Lt,e.getDefaultConfig=Ft,e.getDefaultSessionId=ht,e.getDefaultUserIdAndDeviceId=_t,e.getGlobalInstance=function(){var n=W(),e=mt();if(n&&e)return n[e]},e.getGlobalName=mt,e.getReportUrl=dt,e.getServerConfig=xt,e.getSettingsUrl=vt,e.getStorageKey=yt,e.getStoreOrConsume=Dt,e.getViewId=pt,e.glueCodeForStorageSecurity=bt,e.hasSetStorageItem=function(n){void 0===n&&(n="");var e=yt(n);return!!xn(e)},e.loadNow=it,e.loadPlugins=ot,e.loadPluginsOnPageLoad=rt,e.mergeSampleConfig=Rt,e.normalizeInitConfig=ct,e.normalizeUserConfig=st,e.parseServerConfig=lt,e.register=function(n,e,t){void 0===t&&(t=dn(W())),t&&t.plugins&&(at(t,n)||t.plugins.push({name:n,version:$e,apply:e}))},e.reverseMap=At,e.setStorageUserIdAndDeviceId=Et,e.toObservableArray=gt,e.validateInitConfig=ft}}]);